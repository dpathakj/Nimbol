<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nimrod. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>

<!-- Google fonts -->
<link href='http://fonts.googleapis.com/css?family=Raleway:400,600,900' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'>

<!-- CSS -->
<title>Module nimbol</title>
<style type="text/css" >
/*
Stylesheet for use with Docutils/rst2html.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.

Modified from Chad Skeeters' rst2html-style
https://bitbucket.org/cskeeters/rst2html-style/

Modified by Boyd Greenfield
*/
/* SCSS variables */
/* Text weights */
/* Body colors */
/* Text colors */
/* Link colors */
/* Syntax highlighting colors */
/* Pct changes */
/* Mixins */
/* Body/layout */
html {
  font-size: 100%;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%; }

/* Where we want fancier font if available */
h1, h2, h3, h4, h5, h6, p.module-desc, table.docinfo + blockquote p, table.docinfo blockquote p, h1 + blockquote p {
  font-family: "Raleway", "Helvetica Neue", "HelveticaNeue", Helvetica, Arial, sans-serif !important; }

h1.title {
  font-weight: 900; }

body {
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif;
  font-weight: 400;
  font-size: 14px;
  line-height: 20px;
  color: #2d2d2d;
  background-color: rgba(252, 248, 244, 0.75); }

/* Skeleton grid */
.container {
  position: relative;
  width: 100%;
  max-width: 960px;
  margin: 0 auto;
  padding: 0 20px;
  box-sizing: border-box; }

.column,
.columns {
  width: 100%;
  float: left;
  box-sizing: border-box; }

/* For devices larger than 400px */
@media (min-width: 400px) {
  .container {
    width: 100%;
    padding: 0; } }
/* For devices larger than 650px */
@media (min-width: 650px) {
  .container {
    width: 100%; }

  .column,
  .columns {
    margin-left: 4%; }

  .column:first-child,
  .columns:first-child {
    margin-left: 0; }

  .one.column,
  .one.columns {
    width: 4.66666666667%; }

  .two.columns {
    width: 13.3333333333%; }

  .three.columns {
    width: 22%; }

  .four.columns {
    width: 30.6666666667%; }

  .five.columns {
    width: 39.3333333333%; }

  .six.columns {
    width: 48%; }

  .seven.columns {
    width: 56.6666666667%; }

  .eight.columns {
    width: 65.3333333333%; }

  .nine.columns {
    width: 74.0%; }

  .ten.columns {
    width: 82.6666666667%; }

  .eleven.columns {
    width: 91.3333333333%; }

  .twelve.columns {
    width: 100%;
    margin-left: 0; }

  .one-third.column {
    width: 30.6666666667%; }

  .two-thirds.column {
    width: 65.3333333333%; } }
/* Customer Overrides */
.footer {
  text-align: center;
  color: #969696;
  padding-top: 10%; }

p.module-desc {
  font-size: 1.1em;
  color: #666666; }

a.link-seesrc {
  color: #aec7d2;
  font-style: italic; }

a.link-seesrc:hover {
  color: #6c9aae; }

#toc-list {
  word-wrap: break-word; }

ul.simple-toc {
  list-style: none; }

ul.simple-toc a.reference-toplevel {
  font-weight: bold;
  color: #0077b3; }

ul.simple-toc-section {
  list-style-type: circle;
  color: #6c9aae; }

ul.simple-toc-section a.reference {
  color: #0077b3; }

cite {
  font-style: italic !important; }

dt > pre {
  border-color: rgba(0, 0, 0, 0.15);
  background-color: transparent;
  margin: 15px 0px 5px; }

dd > pre {
  border-color: rgba(0, 0, 0, 0.1);
  background-color: whitesmoke;
  margin-top: 8px; }

.item > dd {
  margin-left: 10px;
  margin-bottom: 30px; }

/* Nim line-numbered tables */
.line-nums-table {
  width: 100%;
  table-layout: fixed; }

table.line-nums-table {
  border-radius: 4px;
  border: 1px solid #cccccc;
  background-color: whitesmoke;
  border-collapse: separate;
  margin-top: 15px;
  margin-bottom: 25px; }

.line-nums-table tbody {
  border: none; }

.line-nums-table td pre {
  border: none;
  background-color: transparent; }

.line-nums-table td.blob-line-nums {
  width: 28px; }

.line-nums-table td.blob-line-nums pre {
  color: #b0b0b0;
  -webkit-filter: opacity(75%);
  text-align: right;
  border-color: transparent;
  background-color: transparent;
  padding-left: 0px;
  margin-left: 0px;
  padding-right: 0px;
  margin-right: 0px; }

/* Docgen styles */
/* Links */
a {
  color: #0077b3;
  text-decoration: none; }

a:hover,
a:focus {
  color: #00334d;
  text-decoration: underline; }

a:visited {
  color: #00334d; }

a:focus {
  outline: thin dotted #2d2d2d;
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px; }

a:hover,
a:active {
  outline: 0; }

sub,
sup {
  position: relative;
  font-size: 75%;
  line-height: 0;
  vertical-align: baseline; }

sup {
  top: -0.5em; }

sub {
  bottom: -0.25em; }

img {
  width: auto;
  height: auto;
  max-width: 100%;
  vertical-align: middle;
  border: 0;
  -ms-interpolation-mode: bicubic; }

@media print {
  * {
    color: black !important;
    text-shadow: none !important;
    background: transparent !important;
    box-shadow: none !important; }

  a,
  a:visited {
    text-decoration: underline; }

  a[href]:after {
    content: " (" attr(href) ")"; }

  abbr[title]:after {
    content: " (" attr(title) ")"; }

  .ir a:after,
  a[href^="javascript:"]:after,
  a[href^="#"]:after {
    content: ""; }

  pre,
  blockquote {
    border: 1px solid #999;
    page-break-inside: avoid; }

  thead {
    display: table-header-group; }

  tr,
  img {
    page-break-inside: avoid; }

  img {
    max-width: 100% !important; }

  @page {
    margin: 0.5cm; }

  h1 {
    page-break-before: always; }

  h1.title {
    page-break-before: avoid; }

  p,
  h2,
  h3 {
    orphans: 3;
    widows: 3; }

  h2,
  h3 {
    page-break-after: avoid; } }
.img-rounded {
  -webkit-border-radius: 6px;
  -moz-border-radius: 6px;
  border-radius: 6px; }

.img-polaroid {
  padding: 4px;
  background-color: rgba(252, 248, 244, 0.75);
  border: 1px solid #ccc;
  border: 1px solid rgba(0, 0, 0, 0.2);
  -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); }

p {
  margin: 0 0 12px; }

small {
  font-size: 85%; }

strong {
  font-weight: 600; }

em {
  font-style: italic; }

cite {
  font-style: normal; }

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif;
  font-weight: 600;
  line-height: 20px;
  color: inherit;
  text-rendering: optimizelegibility; }

h1 {
  font-size: 2em;
  padding-bottom: .15em;
  border-bottom: 1px solid #aaaaaa;
  margin-top: 1.0em;
  line-height: 1.2em; }

h1.title {
  padding-bottom: 1em;
  border-bottom: 0px;
  font-size: 2.75em; }

h2 {
  font-size: 1.5em;
  margin-top: 1.5em; }

h3 {
  font-size: 1.3em;
  font-style: italic;
  margin-top: 0.75em; }

h4 {
  font-size: 1.3em;
  margin-top: 0.5em; }

h5 {
  font-size: 1.2em;
  margin-top: 0.25em; }

h6 {
  font-size: 1.1em; }

ul,
ol {
  padding: 0;
  margin: 0 0 0px 15px; }

ul ul,
ul ol,
ol ol,
ol ul {
  margin-bottom: 0; }

li {
  line-height: 20px; }

dl {
  margin-bottom: 20px; }

dt,
dd {
  line-height: 20px; }

dt {
  font-weight: bold; }

dd {
  margin-left: 10px;
  margin-bottom: 26px; }

hr {
  margin: 20px 0;
  border: 0;
  border-top: 1px solid #eeeeee;
  border-bottom: 1px solid #ffffff; }

abbr[title],
abbr[data-original-title] {
  cursor: help;
  border-bottom: 1px dotted #999999; }

abbr.initialism {
  font-size: 90%;
  text-transform: uppercase; }

blockquote {
  padding: 0 0 0 15px;
  margin: 0 0 20px;
  border-left: 5px solid #EFEBE0; }

table.docinfo + blockquote, table.docinfo blockquote, h1 + blockquote {
  border-left: 5px solid #c9c9c9;
}

table.docinfo + blockquote p, table.docinfo blockquote p, h1 + blockquote p {
  margin-bottom: 0;
  font-size: 15px;
  font-weight: 200;
  line-height: 1.5;
  font-style: italic; }

q:before,
q:after,
blockquote:before,
blockquote:after {
  content: ""; }

address {
  display: block;
  margin-bottom: 20px;
  font-style: normal;
  line-height: 20px; }

code,
pre {
  font-family: "Source Code Pro", Monaco, Menlo, Consolas, "Courier New", monospace;
  padding: 0 3px 2px;
  font-weight: 500;
  font-size: 12px;
  color: #444444;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px; }

.pre {
  font-family: "Source Code Pro", Monaco, Menlo, Consolas, "Courier New", monospace;
  font-weight: 600;
  /*color: #504da6;*/
}

code {
  padding: 2px 4px;
  color: #444444;
  white-space: nowrap;
  background-color: white;
  border: 1px solid #777777; }

pre {
  display: inline-block;
  box-sizing: border-box;
  min-width: calc(100% - 19.5px);
  padding: 9.5px;
  margin: 0.25em 10px 0.25em 10px;
  font-size: 14px;
  line-height: 20px;
  white-space: pre !important;
  overflow-y: hidden;
  overflow-x: visible;
  background-color: whitesmoke;
  border: 1px solid #cccccc;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  border-radius: 4px; }

pre.prettyprint {
  margin-bottom: 20px; }

pre code {
  padding: 0;
  color: inherit;
  white-space: pre;
  overflow-x: visible;
  background-color: transparent;
  border: 0; }

.pre-scrollable {
  max-height: 340px;
  overflow-y: scroll; }

table {
  max-width: 100%;
  background-color: transparent;
  border-collapse: collapse;
  border-spacing: 0; }

table th, table td {
  padding: 0px 8px 0px;
}

.table {
  width: 100%;
  margin-bottom: 20px; }

.table th,
.table td {
  padding: 8px;
  line-height: 20px;
  text-align: left;
  vertical-align: top;
  border-top: 1px solid #444444; }

.table th {
  font-weight: bold; }

.table thead th {
  vertical-align: bottom; }

.table caption + thead tr:first-child th,
.table caption + thead tr:first-child td,
.table colgroup + thead tr:first-child th,
.table colgroup + thead tr:first-child td,
.table thead:first-child tr:first-child th,
.table thead:first-child tr:first-child td {
  border-top: 0; }

.table tbody + tbody {
  border-top: 2px solid #444444; }

.table .table {
  background-color: rgba(252, 248, 244, 0.75); }

.table-condensed th,
.table-condensed td {
  padding: 4px 5px; }

.table-bordered {
  border: 1px solid #444444;
  border-collapse: separate;
  *border-collapse: collapse;
  border-left: 0;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  border-radius: 4px; }

.table-bordered th,
.table-bordered td {
  border-left: 1px solid #444444; }

.table-bordered caption + thead tr:first-child th,
.table-bordered caption + tbody tr:first-child th,
.table-bordered caption + tbody tr:first-child td,
.table-bordered colgroup + thead tr:first-child th,
.table-bordered colgroup + tbody tr:first-child th,
.table-bordered colgroup + tbody tr:first-child td,
.table-bordered thead:first-child tr:first-child th,
.table-bordered tbody:first-child tr:first-child th,
.table-bordered tbody:first-child tr:first-child td {
  border-top: 0; }

.table-bordered thead:first-child tr:first-child > th:first-child,
.table-bordered tbody:first-child tr:first-child > td:first-child,
.table-bordered tbody:first-child tr:first-child > th:first-child {
  -webkit-border-top-left-radius: 4px;
  border-top-left-radius: 4px;
  -moz-border-radius-topleft: 4px; }

.table-bordered thead:first-child tr:first-child > th:last-child,
.table-bordered tbody:first-child tr:first-child > td:last-child,
.table-bordered tbody:first-child tr:first-child > th:last-child {
  -webkit-border-top-right-radius: 4px;
  border-top-right-radius: 4px;
  -moz-border-radius-topright: 4px; }

.table-bordered thead:last-child tr:last-child > th:first-child,
.table-bordered tbody:last-child tr:last-child > td:first-child,
.table-bordered tbody:last-child tr:last-child > th:first-child,
.table-bordered tfoot:last-child tr:last-child > td:first-child,
.table-bordered tfoot:last-child tr:last-child > th:first-child {
  -webkit-border-bottom-left-radius: 4px;
  border-bottom-left-radius: 4px;
  -moz-border-radius-bottomleft: 4px; }

.table-bordered thead:last-child tr:last-child > th:last-child,
.table-bordered tbody:last-child tr:last-child > td:last-child,
.table-bordered tbody:last-child tr:last-child > th:last-child,
.table-bordered tfoot:last-child tr:last-child > td:last-child,
.table-bordered tfoot:last-child tr:last-child > th:last-child {
  -webkit-border-bottom-right-radius: 4px;
  border-bottom-right-radius: 4px;
  -moz-border-radius-bottomright: 4px; }

.table-bordered tfoot + tbody:last-child tr:last-child td:first-child {
  -webkit-border-bottom-left-radius: 0;
  border-bottom-left-radius: 0;
  -moz-border-radius-bottomleft: 0; }

.table-bordered tfoot + tbody:last-child tr:last-child td:last-child {
  -webkit-border-bottom-right-radius: 0;
  border-bottom-right-radius: 0;
  -moz-border-radius-bottomright: 0; }

.table-bordered caption + thead tr:first-child th:first-child,
.table-bordered caption + tbody tr:first-child td:first-child,
.table-bordered colgroup + thead tr:first-child th:first-child,
.table-bordered colgroup + tbody tr:first-child td:first-child {
  -webkit-border-top-left-radius: 4px;
  border-top-left-radius: 4px;
  -moz-border-radius-topleft: 4px; }

.table-bordered caption + thead tr:first-child th:last-child,
.table-bordered caption + tbody tr:first-child td:last-child,
.table-bordered colgroup + thead tr:first-child th:last-child,
.table-bordered colgroup + tbody tr:first-child td:last-child {
  -webkit-border-top-right-radius: 4px;
  border-top-right-radius: 4px;
  -moz-border-radius-topright: 4px; }

table.docutils th {
  background-color: #e8e8e8; }

table.docutils tr:hover {
  background-color: whitesmoke; }

.table-striped tbody > tr:nth-child(odd) > td,
.table-striped tbody > tr:nth-child(odd) > th {
  background-color: rgba(252, 248, 244, 0.75); }

.table-hover tbody tr:hover > td,
.table-hover tbody tr:hover > th {
  background-color: rgba(241, 222, 204, 0.75); }

table td[class*="span"],
table th[class*="span"],
.row-fluid table td[class*="span"],
.row-fluid table th[class*="span"] {
  display: table-cell;
  float: none;
  margin-left: 0; }

.hero-unit {
  padding: 60px;
  margin-bottom: 30px;
  font-size: 18px;
  font-weight: 200;
  line-height: 30px;
  color: inherit;
  background-color: rgba(230, 197, 164, 0.75);
  -webkit-border-radius: 6px;
  -moz-border-radius: 6px;
  border-radius: 6px; }

.hero-unit h1 {
  margin-bottom: 0;
  font-size: 60px;
  line-height: 1;
  letter-spacing: -1px;
  color: inherit; }

.hero-unit li {
  line-height: 30px; }

/* rst2html default used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0; }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 !important; }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 !important; }

.last, .with-subtitle {
  margin-bottom: 0 !important; }

.hidden {
  display: none; }

a.toc-backref {
  text-decoration: none;
  color: #444444; }

blockquote.epigraph {
  margin: 2em 5em; }

dl.docutils dd {
  margin-bottom: 0.5em; }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden; }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/
div.abstract {
  margin: 2em 5em; }

div.abstract p.topic-title {
  font-weight: bold;
  text-align: center; }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em;
  border: medium outset;
  padding: 1em; }

div.note, div.warning {
  margin: 1.5em 0px;
  border: none; }

div.note p.admonition-title,
div.warning p.admonition-title {
  display: none; }

/* Clearfix
 * http://css-tricks.com/snippets/css/clear-fix/
 */
div.note:after,
div.warning:after {
  content: "";
  display: table;
  clear: both; }

div.note p:before,
div.warning p:before {
  display: block;
  float: left;
  font-size: 4em;
  line-height: 1em;
  margin-right: 20px;
  margin-left: 0em;
  margin-top: -10px;
  content: '\0270D';
  /*handwriting*/ }

div.warning p:before {
  content: '\026A0';
  /*warning*/ }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold;
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif; }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: #b30000;
  font-weight: bold;
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif; }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/
div.dedication {
  margin: 2em 5em;
  text-align: center;
  font-style: italic; }

div.dedication p.topic-title {
  font-weight: bold;
  font-style: normal; }

div.figure {
  margin-left: 2em;
  margin-right: 2em; }

div.footer, div.header {
  clear: both;
  font-size: smaller; }

div.line-block {
  display: block;
  margin-top: 1em;
  margin-bottom: 1em; }

div.line-block div.line-block {
  margin-top: 0;
  margin-bottom: 0;
  margin-left: 1.5em; }

div.sidebar {
  margin: 0 0 0.5em 1em;
  border: medium outset;
  padding: 1em;
  background-color: rgba(252, 248, 244, 0.75);
  width: 40%;
  float: right;
  clear: right; }

div.sidebar p.rubric {
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif;
  font-size: medium; }

div.system-messages {
  margin: 5em; }

div.system-messages h1 {
  color: #b30000; }

div.system-message {
  border: medium outset;
  padding: 1em; }

div.system-message p.system-message-title {
  color: #b30000;
  font-weight: bold; }

div.topic {
  margin: 2em; }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em; }

h1.title {
  text-align: center; }

h2.subtitle {
  text-align: center; }

hr.docutils {
  width: 75%; }

img.align-left, .figure.align-left, object.align-left {
  clear: left;
  float: left;
  margin-right: 1em; }

img.align-right, .figure.align-right, object.align-right {
  clear: right;
  float: right;
  margin-left: 1em; }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto; }

.align-left {
  text-align: left; }

.align-center {
  clear: both;
  text-align: center; }

.align-right {
  text-align: right; }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit; }

/* div.align-center * { */
/*   text-align: left } */

ul.simple > li {
  margin-bottom: 0.5em }

ol.simple, ul.simple {
  margin-bottom: 1em; }

ol.arabic {
  list-style: decimal; }

ol.loweralpha {
  list-style: lower-alpha; }

ol.upperalpha {
  list-style: upper-alpha; }

ol.lowerroman {
  list-style: lower-roman; }

ol.upperroman {
  list-style: upper-roman; }

p.attribution {
  text-align: right;
  margin-left: 50%; }

p.caption {
  font-style: italic; }

p.credits {
  font-style: italic;
  font-size: smaller; }

p.label {
  white-space: nowrap; }

p.rubric {
  font-weight: bold;
  font-size: larger;
  color: maroon;
  text-align: center; }

p.sidebar-title {
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif;
  font-weight: bold;
  font-size: larger; }

p.sidebar-subtitle {
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif;
  font-weight: bold; }

p.topic-title {
  font-weight: bold; }

pre.address {
  margin-bottom: 0;
  margin-top: 0;
  font: inherit; }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em;
  margin-right: 2em; }

pre.code .ln {
  color: grey; }

/* line numbers */
pre.code, code {
  background-color: #eeeeee; }

pre.code .comment, code .comment {
  color: #5c6576; }

pre.code .keyword, code .keyword {
  color: #3B0D06;
  font-weight: bold; }

pre.code .literal.string, code .literal.string {
  color: #0c5404; }

pre.code .name.builtin, code .name.builtin {
  color: #352b84; }

pre.code .deleted, code .deleted {
  background-color: #DEB0A1; }

pre.code .inserted, code .inserted {
  background-color: #A3D289; }

span.classifier {
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif;
  font-style: oblique; }

span.classifier-delimiter {
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif;
  font-weight: bold; }

span.interpreted {
  font-family: "Helvetica Neue", "HelveticaNeue", "Raleway", Helvetica, Arial, sans-serif; }

span.option {
  white-space: nowrap; }

span.pre {
  white-space: pre; }

span.problematic {
  color: #b30000; }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80%; }

table.citation {
  border-left: solid 1px #666666;
  margin-left: 1px; }

table.docinfo {
  margin: 0em;
  margin-top: 2em;
  margin-bottom: 2em;
  font-family: "Raleway", "Helvetica Neue", "HelveticaNeue", Helvetica, Arial, sans-serif !important;
  color: #444444; }

table.docutils {
  margin-top: 0.5em;
  margin-bottom: 0.5em; }

table.footnote {
  border-left: solid 1px #2d2d2d;
  margin-left: 1px; }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em;
  padding-right: 0.5em;
  vertical-align: top; }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: 700;
  text-align: left;
  white-space: nowrap;
  padding-left: 0; }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100%; }

ul.auto-toc {
  list-style-type: none; }

span.DecNumber {
  color: #252dbe; }

span.BinNumber {
  color: #252dbe; }

span.HexNumber {
  color: #252dbe; }

span.OctNumber {
  color: #252dbe; }

span.FloatNumber {
  color: #252dbe; }

span.Identifier {
  color: #3b3b3b; }

span.Keyword {
  font-weight: 600;
  color: #5e8f60; }

span.StringLit {
  color: #a4255b; }

span.LongStringLit {
  color: #a4255b; }

span.CharLit {
  color: #a4255b; }

span.EscapeSequence {
  color: black; }

span.Operator {
  color: black; }

span.Punctuation {
  color: black; }

span.Comment, span.LongComment {
  font-style: italic;
  font-weight: 400;
  color: #484a86; }

span.RegularExpression {
  color: darkviolet; }

span.TagStart {
  color: darkviolet; }

span.TagEnd {
  color: darkviolet; }

span.Key {
  color: #252dbe; }

span.Value {
  color: #252dbe; }

span.RawData {
  color: #a4255b; }

span.Assembler {
  color: #252dbe; }

span.Preprocessor {
  color: #252dbe; }

span.Directive {
  color: #252dbe; }

span.Command, span.Rule, span.Hyperlink, span.Label, span.Reference,
span.Other {
  color: black; }

/* Pop type, const, proc, and iterator defs in nim def blocks */
dt pre > span.Identifier, dt pre > span.Operator {
  color: #155da4;
  font-weight: 700; }

dt pre > span.Identifier ~ span.Identifier, dt pre > span.Operator ~ span.Identifier {
  color: inherit;
  font-weight: inherit; }

dt pre > span.Operator ~ span.Identifier, dt pre > span.Operator ~ span.Operator {
  color: inherit;
  font-weight: inherit; }

/* Nim sprite for the footer (taken from main page favicon) */
.nim-sprite {
  display: inline-block;
  height: 12px;
  width: 12px;
  background-position: 0 0;
  background-size: 12px 12px;
  -webkit-filter: opacity(50%);
  background-repeat: no-repeat;
  background-image: url("data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA==");
  margin-bottom: -5px; }
</style>

</head>
<body>
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">Module nimbol</h1>
    <div class="row">
  <div class="three columns">
  <ul class="simple simple-toc" id="toc-list">
<li><a class="reference" id="summary_toc" href="#summary">Summary</a></li>
<li><a class="reference" id="documentation_toc" href="#documentation">Documentation</a></li>
<li><a class="reference" id="pattern-matching-tutorial_toc" href="#pattern-matching-tutorial">Pattern Matching Tutorial</a></li>
<ul class="simple"><li><a class="reference" id="pattern-matching-tutorial-concatenation-and-alternation_toc" href="#pattern-matching-tutorial-concatenation-and-alternation">Concatenation and Alternation</a></li>
<li><a class="reference" id="pattern-matching-tutorial-moving-the-start-point_toc" href="#pattern-matching-tutorial-moving-the-start-point">Moving the start Point</a></li>
<li><a class="reference" id="pattern-matching-tutorial-other-pattern-elements_toc" href="#pattern-matching-tutorial-other-pattern-elements">Other Pattern Elements</a></li>
<li><a class="reference" id="pattern-matching-tutorial-pattern-construction-functions_toc" href="#pattern-matching-tutorial-pattern-construction-functions">Pattern Construction Functions</a></li>
<li><a class="reference" id="pattern-matching-tutorial-recursive-pattern-matching_toc" href="#pattern-matching-tutorial-recursive-pattern-matching">Recursive Pattern Matching</a></li>
<li><a class="reference" id="pattern-matching-tutorial-pattern-assignment-operations_toc" href="#pattern-matching-tutorial-pattern-assignment-operations">Pattern Assignment Operations</a></li>
<li><a class="reference" id="pattern-matching-tutorial-deferred-matching_toc" href="#pattern-matching-tutorial-deferred-matching">Deferred Matching</a></li>
<li><a class="reference" id="pattern-matching-tutorial-deferred-replacement_toc" href="#pattern-matching-tutorial-deferred-replacement">Deferred Replacement</a></li>
<li><a class="reference" id="pattern-matching-tutorial-examples-of-pattern-matching_toc" href="#pattern-matching-tutorial-examples-of-pattern-matching">Examples of Pattern Matching</a></li>
<li><a class="reference" id="pattern-matching-tutorial-correspondence-with-pattern-matching-in-spitbol_toc" href="#pattern-matching-tutorial-correspondence-with-pattern-matching-in-spitbol">Correspondence with Pattern Matching in SPITBOL</a></li>
</ul><li><a class="reference" id="description-of-algorithm-and-data-structures_toc" href="#description-of-algorithm-and-data-structures">Description of Algorithm and Data Structures</a></li>
<li><a class="reference" id="pattern-matching-operations_toc" href="#pattern-matching-operations">Pattern Matching Operations</a></li>
<li><a class="reference" id="the-pattern-history-stack_toc" href="#the-pattern-history-stack">The Pattern History Stack</a></li>
<li><a class="reference" id="use-of-serial-index-field-in-pattern-elements_toc" href="#use-of-serial-index-field-in-pattern-elements">Use of Serial Index Field in Pattern Elements</a></li>
<li><a class="reference" id="recursive-pattern-matches_toc" href="#recursive-pattern-matches">Recursive Pattern Matches</a></li>
<li><a class="reference" id="compound-pattern-structures_toc" href="#compound-pattern-structures">Compound Pattern Structures</a></li>
<li><a class="reference" id="concatenation_toc" href="#concatenation">Concatenation</a></li>
<li><a class="reference" id="concat_toc" href="#concat">Concat</a></li>
<li><a class="reference" id="alternation_toc" href="#alternation">Alternation</a></li>
<li><a class="reference" id="arbno-simple-case_toc" href="#arbno-simple-case">Arbno (simple case)</a></li>
<li><a class="reference" id="arbno-complex-case_toc" href="#arbno-complex-case">Arbno (complex case)</a></li>
<li><a class="reference" id="assign-immediate_toc" href="#assign-immediate">Assign Immediate</a></li>
<li><a class="reference" id="assign-on-match_toc" href="#assign-on-match">Assign On Match</a></li>
<li><a class="reference" id="breakx_toc" href="#breakx">BreakX</a></li>
<li><a class="reference" id="fence_toc" href="#fence">Fence</a></li>
<li><a class="reference" id="fence-function_toc" href="#fence-function">Fence Function</a></li>
<li><a class="reference" id="succeed_toc" href="#succeed">Succeed</a></li>
<li><a class="reference" id="write-immediate_toc" href="#write-immediate">Write Immediate</a></li>
<li><a class="reference" id="write-on-match_toc" href="#write-on-match">Write On Match</a></li>
<li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#Character"
    title="Character = char"><wbr />Character</a></li>
  <li><a class="reference" href="#String"
    title="String = string"><wbr />String</a></li>
  <li><a class="reference" href="#PString"
    title="PString = String"><wbr />PString</a></li>
  <li><a class="reference" href="#PChar"
    title="PChar = Character"><wbr />PChar</a></li>
  <li><a class="reference" href="#BoolFunc"
    title="BoolFunc = proc (): bool"><wbr />Bool<wbr />Func</a></li>
  <li><a class="reference" href="#NaturalFunc"
    title="NaturalFunc = proc (): Natural"><wbr />Natural<wbr />Func</a></li>
  <li><a class="reference" href="#StringFunc"
    title="StringFunc = proc (): String"><wbr />String<wbr />Func</a></li>
  <li><a class="reference" href="#Pattern"
    title="Pattern = object
  stk: Natural ## \
             ## Maximum number of stack entries required
             ## for matching this pattern. See description of pattern history stack
             ## in body.
  p: ref PE                     ## Pointer to initial pattern element for pattern"><wbr />Pattern</a></li>
  <li><a class="reference" href="#MatchResult"
    title="MatchResult = object
  res: ptr String               ## \
               ## Pointer to subject string. Set to ``nil`` if match failed
  start: Natural               ## \
               ## Starting index position of matched section of \
               ## subject string. Only valid if ``res`` is ``non-nil``.
  stop: Natural ## \
              ## Ending index position (1&#x27;s origin) of matched section of \
              ## subject string. Only valid if ``res`` is ``non-nil``."><wbr />Match<wbr />Result</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#8" id="58">Vars</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#anchoredMode"
    title="anchoredMode: bool = false"><wbr />anchored<wbr />Mode</a></li>
  <li><a class="reference" href="#debugNimbol"
    title="debugNimbol = false"><wbr />debug<wbr />Nimbol</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#pattern,Pattern"
    title="pattern(p: Pattern): Pattern"><wbr />pattern</a></li>
  <li><a class="reference" href="#pattern,PString"
    title="pattern(p: PString): Pattern"><wbr />pattern</a></li>
  <li><a class="reference" href="#pattern,PChar"
    title="pattern(c: PChar): Pattern"><wbr />pattern</a></li>
  <li><a class="reference" href="#&,Pattern,Pattern"
    title="`&amp;`(l: Pattern; r: Pattern): Pattern"><wbr />`&amp;`</a></li>
  <li><a class="reference" href="#&,Pattern,PString"
    title="`&amp;`(l: Pattern; r: PString): Pattern"><wbr />`&amp;`</a></li>
  <li><a class="reference" href="#&,PString,Pattern"
    title="`&amp;`(l: PString; r: Pattern): Pattern"><wbr />`&amp;`</a></li>
  <li><a class="reference" href="#&,Pattern,PChar"
    title="`&amp;`(l: Pattern; r: PChar): Pattern"><wbr />`&amp;`</a></li>
  <li><a class="reference" href="#&,PChar,Pattern"
    title="`&amp;`(l: PChar; r: Pattern): Pattern"><wbr />`&amp;`</a></li>
  <li><a class="reference" href="#&=,Pattern,Pattern"
    title="`&amp;=`(l: var Pattern; r: Pattern)"><wbr />`&amp;=`</a></li>
  <li><a class="reference" href="#&=,Pattern,PString"
    title="`&amp;=`(l: var Pattern; r: PString): Pattern"><wbr />`&amp;=`</a></li>
  <li><a class="reference" href="#&=,Pattern,PChar"
    title="`&amp;=`(l: var Pattern; r: PChar): Pattern"><wbr />`&amp;=`</a></li>
  <li><a class="reference" href="#*,Pattern,ref.String"
    title="`*`(p: Pattern; val: ref String): Pattern"><wbr />`*`</a></li>
  <li><a class="reference" href="#*,PString,ref.String"
    title="`*`(ps: PString; val: ref String): Pattern"><wbr />`*`</a></li>
  <li><a class="reference" href="#*,PChar,ref.String"
    title="`*`(pc: PChar; val: ref String): Pattern"><wbr />`*`</a></li>
  <li><a class="reference" href="#*,Pattern,String"
    title="`*`(p: Pattern; val: var String): Pattern"><wbr />`*`</a></li>
  <li><a class="reference" href="#*,PString,String"
    title="`*`(ps: PString; val: var String): Pattern"><wbr />`*`</a></li>
  <li><a class="reference" href="#*,PChar,String"
    title="`*`(pc: PChar; val: var String): Pattern"><wbr />`*`</a></li>
  <li><a class="reference" href="#*,Pattern,ref.File"
    title="`*`(p: Pattern; file: ref File): Pattern"><wbr />`*`</a></li>
  <li><a class="reference" href="#*,PString,ref.File"
    title="`*`(ps: PString; file: ref File): Pattern"><wbr />`*`</a></li>
  <li><a class="reference" href="#*,PChar,ref.File"
    title="`*`(pc: PChar; file: ref File): Pattern"><wbr />`*`</a></li>
  <li><a class="reference" href="#*,Pattern,File"
    title="`*`(p: Pattern; file: var File): Pattern"><wbr />`*`</a></li>
  <li><a class="reference" href="#*,PString,File"
    title="`*`(ps: PString; file: var File): Pattern"><wbr />`*`</a></li>
  <li><a class="reference" href="#*,PChar,File"
    title="`*`(pc: PChar; file: var File): Pattern"><wbr />`*`</a></li>
  <li><a class="reference" href="#**,Pattern,ref.String"
    title="`**`(p: Pattern; val: ref String): Pattern"><wbr />`**`</a></li>
  <li><a class="reference" href="#**,PString,ref.String"
    title="`**`(ps: PString; val: ref String): Pattern"><wbr />`**`</a></li>
  <li><a class="reference" href="#**,PChar,ref.String"
    title="`**`(pc: PChar; val: ref String): Pattern"><wbr />`**`</a></li>
  <li><a class="reference" href="#**,Pattern,String"
    title="`**`(p: Pattern; val: var String): Pattern"><wbr />`**`</a></li>
  <li><a class="reference" href="#**,PString,String"
    title="`**`(ps: PString; val: var String): Pattern"><wbr />`**`</a></li>
  <li><a class="reference" href="#**,PChar,String"
    title="`**`(pc: PChar; val: var String): Pattern"><wbr />`**`</a></li>
  <li><a class="reference" href="#**,Pattern,ref.File"
    title="`**`(p: Pattern; file: ref File): Pattern"><wbr />`**`</a></li>
  <li><a class="reference" href="#**,PString,ref.File"
    title="`**`(ps: PString; file: ref File): Pattern"><wbr />`**`</a></li>
  <li><a class="reference" href="#**,PChar,ref.File"
    title="`**`(pc: PChar; file: ref File): Pattern"><wbr />`**`</a></li>
  <li><a class="reference" href="#**,Pattern,File"
    title="`**`(p: Pattern; file: var File): Pattern"><wbr />`**`</a></li>
  <li><a class="reference" href="#**,PString,File"
    title="`**`(ps: PString; file: var File): Pattern"><wbr />`**`</a></li>
  <li><a class="reference" href="#**,PChar,File"
    title="`**`(pc: PChar; file: var File): Pattern"><wbr />`**`</a></li>
  <li><a class="reference" href="#+,ref.String"
    title="`+`(str: ref String): Pattern"><wbr />`+`</a></li>
  <li><a class="reference" href="#+,String"
    title="`+`(str: var String): Pattern"><wbr />`+`</a></li>
  <li><a class="reference" href="#+,StringFunc"
    title="`+`(str: StringFunc): Pattern"><wbr />`+`</a></li>
  <li><a class="reference" href="#+,ref.Pattern"
    title="`+`(P: ref Pattern): Pattern"><wbr />`+`</a></li>
  <li><a class="reference" href="#+,Pattern"
    title="`+`(P: var Pattern): Pattern"><wbr />`+`</a></li>
  <li><a class="reference" href="#+,BoolFunc"
    title="`+`(P: BoolFunc): Pattern"><wbr />`+`</a></li>
  <li><a class="reference" href="#or,Pattern,Pattern"
    title="`or`(l: Pattern; r: Pattern): Pattern"><wbr />`or`</a></li>
  <li><a class="reference" href="#or,PString,Pattern"
    title="`or`(l: PString; r: Pattern): Pattern"><wbr />`or`</a></li>
  <li><a class="reference" href="#or,Pattern,PString"
    title="`or`(l: Pattern; r: PString): Pattern"><wbr />`or`</a></li>
  <li><a class="reference" href="#or,PString,PString"
    title="`or`(l: PString; r: PString): Pattern"><wbr />`or`</a></li>
  <li><a class="reference" href="#or,PChar,Pattern"
    title="`or`(l: PChar; r: Pattern): Pattern"><wbr />`or`</a></li>
  <li><a class="reference" href="#or,Pattern,PChar"
    title="`or`(l: Pattern; r: PChar): Pattern"><wbr />`or`</a></li>
  <li><a class="reference" href="#or,PChar,PChar"
    title="`or`(l: PChar; r: PChar): Pattern"><wbr />`or`</a></li>
  <li><a class="reference" href="#or,PString,PChar"
    title="`or`(l: PString; r: PChar): Pattern"><wbr />`or`</a></li>
  <li><a class="reference" href="#or,PChar,PString"
    title="`or`(l: PChar; r: PString): Pattern"><wbr />`or`</a></li>
  <li><a class="reference" href="#or=,Pattern,Pattern"
    title="or=(l: var Pattern; r: Pattern): Pattern"><wbr />or=</a></li>
  <li><a class="reference" href="#or,Pattern,PString_2"
    title="`or`(l: var Pattern; r: PString): Pattern"><wbr />`or`</a></li>
  <li><a class="reference" href="#or,Pattern,PChar_2"
    title="`or`(l: var Pattern; r: PChar): Pattern"><wbr />`or`</a></li>
  <li><a class="reference" href="#Any,String"
    title="Any(str: String): Pattern"><wbr />Any</a></li>
  <li><a class="reference" href="#Any,Character"
    title="Any(str: Character): Pattern"><wbr />Any</a></li>
  <li><a class="reference" href="#Any,CharacterSet"
    title="Any(str: CharacterSet): Pattern"><wbr />Any</a></li>
  <li><a class="reference" href="#Any,ref.String"
    title="Any(str: ref String): Pattern"><wbr />Any</a></li>
  <li><a class="reference" href="#Any,ptr.String"
    title="Any(str: ptr String): Pattern"><wbr />Any</a></li>
  <li><a class="reference" href="#Any,StringFunc"
    title="Any(str: StringFunc): Pattern"><wbr />Any</a></li>
  <li><a class="reference" href="#Arb,"
    title="Arb(): Pattern"><wbr />Arb</a></li>
  <li><a class="reference" href="#Arbno,PString"
    title="Arbno(ps: PString): Pattern"><wbr />Arbno</a></li>
  <li><a class="reference" href="#Arbno,PChar"
    title="Arbno(pc: PChar): Pattern"><wbr />Arbno</a></li>
  <li><a class="reference" href="#Arbno,Pattern"
    title="Arbno(p: Pattern): Pattern"><wbr />Arbno</a></li>
  <li><a class="reference" href="#Bal,Character,Character"
    title="Bal(open, close: Character): Pattern"><wbr />Bal</a></li>
  <li><a class="reference" href="#Bal,"
    title="Bal(): Pattern"><wbr />Bal</a></li>
  <li><a class="reference" href="#Break,String"
    title="Break(str: String): Pattern"><wbr />Break</a></li>
  <li><a class="reference" href="#Break,Character"
    title="Break(str: Character): Pattern"><wbr />Break</a></li>
  <li><a class="reference" href="#Break,CharacterSet"
    title="Break(str: CharacterSet): Pattern"><wbr />Break</a></li>
  <li><a class="reference" href="#Break,ref.String"
    title="Break(str: ref String): Pattern"><wbr />Break</a></li>
  <li><a class="reference" href="#Break,ptr.String"
    title="Break(str: ptr String): Pattern"><wbr />Break</a></li>
  <li><a class="reference" href="#Break,StringFunc"
    title="Break(str: StringFunc): Pattern"><wbr />Break</a></li>
  <li><a class="reference" href="#BreakX,String"
    title="BreakX(str: String): Pattern"><wbr />Break<wbr />X</a></li>
  <li><a class="reference" href="#BreakX,Character"
    title="BreakX(str: Character): Pattern"><wbr />Break<wbr />X</a></li>
  <li><a class="reference" href="#BreakX,CharacterSet"
    title="BreakX(str: CharacterSet): Pattern"><wbr />Break<wbr />X</a></li>
  <li><a class="reference" href="#BreakX,ref.String"
    title="BreakX(str: ref String): Pattern"><wbr />Break<wbr />X</a></li>
  <li><a class="reference" href="#BreakX,ptr.String"
    title="BreakX(str: ptr String): Pattern"><wbr />Break<wbr />X</a></li>
  <li><a class="reference" href="#BreakX,StringFunc"
    title="BreakX(str: StringFunc): Pattern"><wbr />Break<wbr />X</a></li>
  <li><a class="reference" href="#Abort,"
    title="Abort(): Pattern"><wbr />Abort</a></li>
  <li><a class="reference" href="#Fail,"
    title="Fail(): Pattern"><wbr />Fail</a></li>
  <li><a class="reference" href="#Fence,"
    title="Fence(): Pattern"><wbr />Fence</a></li>
  <li><a class="reference" href="#Fence,Pattern"
    title="Fence(p: Pattern): Pattern"><wbr />Fence</a></li>
  <li><a class="reference" href="#Len,Natural"
    title="Len(Count: Natural): Pattern"><wbr />Len</a></li>
  <li><a class="reference" href="#Len,NaturalFunc"
    title="Len(Count: NaturalFunc): Pattern"><wbr />Len</a></li>
  <li><a class="reference" href="#Len,ref.Natural"
    title="Len(Count: ref Natural): Pattern"><wbr />Len</a></li>
  <li><a class="reference" href="#Len,ptr.Natural"
    title="Len(Count: ptr Natural): Pattern"><wbr />Len</a></li>
  <li><a class="reference" href="#NotAny,String"
    title="NotAny(str: String): Pattern"><wbr />Not<wbr />Any</a></li>
  <li><a class="reference" href="#NotAny,Character"
    title="NotAny(str: Character): Pattern"><wbr />Not<wbr />Any</a></li>
  <li><a class="reference" href="#NotAny,CharacterSet"
    title="NotAny(str: CharacterSet): Pattern"><wbr />Not<wbr />Any</a></li>
  <li><a class="reference" href="#NotAny,ref.String"
    title="NotAny(str: ref String): Pattern"><wbr />Not<wbr />Any</a></li>
  <li><a class="reference" href="#NotAny,ptr.String"
    title="NotAny(str: ptr String): Pattern"><wbr />Not<wbr />Any</a></li>
  <li><a class="reference" href="#NotAny,StringFunc"
    title="NotAny(str: StringFunc): Pattern"><wbr />Not<wbr />Any</a></li>
  <li><a class="reference" href="#NSpan,String"
    title="NSpan(str: String): Pattern"><wbr />NSpan</a></li>
  <li><a class="reference" href="#NSpan,Character"
    title="NSpan(str: Character): Pattern"><wbr />NSpan</a></li>
  <li><a class="reference" href="#NSpan,CharacterSet"
    title="NSpan(str: CharacterSet): Pattern"><wbr />NSpan</a></li>
  <li><a class="reference" href="#NSpan,ref.String"
    title="NSpan(str: ref String): Pattern"><wbr />NSpan</a></li>
  <li><a class="reference" href="#NSpan,ptr.String"
    title="NSpan(str: ptr String): Pattern"><wbr />NSpan</a></li>
  <li><a class="reference" href="#NSpan,StringFunc"
    title="NSpan(str: StringFunc): Pattern"><wbr />NSpan</a></li>
  <li><a class="reference" href="#Pos,Natural"
    title="Pos(Count: Natural): Pattern"><wbr />Pos</a></li>
  <li><a class="reference" href="#Pos,NaturalFunc"
    title="Pos(Count: NaturalFunc): Pattern"><wbr />Pos</a></li>
  <li><a class="reference" href="#Pos,ref.Natural"
    title="Pos(Count: ref Natural): Pattern"><wbr />Pos</a></li>
  <li><a class="reference" href="#Pos,ptr.Natural"
    title="Pos(Count: ptr Natural): Pattern"><wbr />Pos</a></li>
  <li><a class="reference" href="#Rem,"
    title="Rem(): Pattern"><wbr />Rem</a></li>
  <li><a class="reference" href="#Rpos,Natural"
    title="Rpos(Count: Natural): Pattern"><wbr />Rpos</a></li>
  <li><a class="reference" href="#Rpos,NaturalFunc"
    title="Rpos(Count: NaturalFunc): Pattern"><wbr />Rpos</a></li>
  <li><a class="reference" href="#Rpos,ref.Natural"
    title="Rpos(Count: ref Natural): Pattern"><wbr />Rpos</a></li>
  <li><a class="reference" href="#Rpos,ptr.Natural"
    title="Rpos(Count: ptr Natural): Pattern"><wbr />Rpos</a></li>
  <li><a class="reference" href="#Rtab,Natural"
    title="Rtab(Count: Natural): Pattern"><wbr />Rtab</a></li>
  <li><a class="reference" href="#Rtab,NaturalFunc"
    title="Rtab(Count: NaturalFunc): Pattern"><wbr />Rtab</a></li>
  <li><a class="reference" href="#Rtab,ref.Natural"
    title="Rtab(Count: ref Natural): Pattern"><wbr />Rtab</a></li>
  <li><a class="reference" href="#Rtab,ptr.Natural"
    title="Rtab(Count: ptr Natural): Pattern"><wbr />Rtab</a></li>
  <li><a class="reference" href="#Setcur,ref.Natural"
    title="Setcur(val: ref Natural): Pattern"><wbr />Setcur</a></li>
  <li><a class="reference" href="#Setcur,Natural"
    title="Setcur(val: var Natural): Pattern"><wbr />Setcur</a></li>
  <li><a class="reference" href="#Span,String"
    title="Span(str: String): Pattern"><wbr />Span</a></li>
  <li><a class="reference" href="#Span,Character"
    title="Span(str: Character): Pattern"><wbr />Span</a></li>
  <li><a class="reference" href="#Span,CharacterSet"
    title="Span(str: CharacterSet): Pattern"><wbr />Span</a></li>
  <li><a class="reference" href="#Span,ref.String"
    title="Span(str: ref String): Pattern"><wbr />Span</a></li>
  <li><a class="reference" href="#Span,ptr.String"
    title="Span(str: ptr String): Pattern"><wbr />Span</a></li>
  <li><a class="reference" href="#Span,StringFunc"
    title="Span(str: StringFunc): Pattern"><wbr />Span</a></li>
  <li><a class="reference" href="#Succeed,"
    title="Succeed(): Pattern"><wbr />Succeed</a></li>
  <li><a class="reference" href="#Tab,Natural"
    title="Tab(Count: Natural): Pattern"><wbr />Tab</a></li>
  <li><a class="reference" href="#Tab,NaturalFunc"
    title="Tab(Count: NaturalFunc): Pattern"><wbr />Tab</a></li>
  <li><a class="reference" href="#Tab,ref.Natural"
    title="Tab(Count: ref Natural): Pattern"><wbr />Tab</a></li>
  <li><a class="reference" href="#Tab,ptr.Natural"
    title="Tab(Count: ptr Natural): Pattern"><wbr />Tab</a></li>
  <li><a class="reference" href="#$,Pattern"
    title="`$`(p: Pattern): string"><wbr />`$`</a></li>
  <li><a class="reference" href="#dump,Pattern"
    title="dump(pat: Pattern)"><wbr />dump</a></li>
  <li><a class="reference" href="#match,String,Pattern"
    title="match(subject: String; pat: Pattern): bool"><wbr />match</a></li>
  <li><a class="reference" href="#match,String,PString"
    title="match(subject: String; pat: PString): bool"><wbr />match</a></li>
  <li><a class="reference" href="#match,String,Pattern,String"
    title="match(subject: var String; pat: Pattern; replace: String): bool"><wbr />match</a></li>
  <li><a class="reference" href="#match,String,PString,String"
    title="match(subject: var String; pat: PString; replace: String): bool"><wbr />match</a></li>
  <li><a class="reference" href="#match,String,PString,String_2"
    title="match(subject: var String; pat: PString; replace: String)"><wbr />match</a></li>
  <li><a class="reference" href="#match,String,Pattern,MatchResult"
    title="match(subject: var String; pat: Pattern; res: var MatchResult): bool"><wbr />match</a></li>
  <li><a class="reference" href="#replace,MatchResult,String"
    title="replace(result: var MatchResult; replace: String)"><wbr />replace</a></li>

  </ul>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
  <p class="module-desc"><p>Nimbol: SPITBOL-like pattern construction and matching in Nim</p>
<p>This module is a translation of the GNAT.Spitbol Ada library to Nim</p>
<p>Copyright (C) 1997-2013, AdaCore Copyright (C) 2015, H. G. Weller</p>
<p>Nimbol is free software;  you can  redistribute it  and/or modify it under terms of the  GNU General Public License as published  by the Free Soft- ware  Foundation;  either version 3,  or (at your option) any later ver- sion.  GNAT is distributed in the hope that it will be useful, but WITH- OUT ANY WARRANTY;  without even the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
<p>As a special exception under Section 7 of GPL version 3, you are granted additional permissions described in the GCC Runtime Library Exception, version 3.1, as published by the Free Software Foundation.</p>
<p>You should have received a copy of the GNU General Public License and a copy of the GCC Runtime Library Exception along with this program; see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see &lt;<a class="reference external" href="http://www.gnu.org/licenses">http://www.gnu.org/licenses</a> &gt;.</p>

<h1><a class="toc-backref" id="summary" href="#summary">Summary</a></h1><p>This package provides a complete implementation of the SPITBOL-like pattern construction and matching operations based on Macro-SPITBOL created by Robert Dewar.  SPITBOL is a completely general patterm matching package based on the pattern language of SNOBOL4 modeled on context free grammars, with context sensitive extensions that provide full (type 0) computational capabilities.</p>
<p>Original GNAT.Spitbol source files <a class="reference external" href="https://www2.adacore.com/gap-static/GNAT_Book/html/rts/g-spipat__ads.htm">g-spipat.ads</a> <a class="reference external" href="https://www2.adacore.com/gap-static/GNAT_Book/html/rts/g-spipat__adb.htm">g-spipat.adb</a></p>

<h1><a class="toc-backref" id="documentation" href="#documentation">Documentation</a></h1><ul class="simple"><li><a class="reference external" href="http://www.snobol4.com/spitbol360/spitbol_360_manual.pdf">SPITBOL Manual</a></li>
<li><a class="reference external" href="ftp://ftp.snobol4.com/spitman.pdf">Macro SPITBOL manual</a></li>
<li><a class="reference external" href="http://www.math.bas.bg/bantchev/place/snobol/gpp-2ed.pdf">The SNOBOL4 Programming Language Book</a></li>
<li><a class="reference external" href="http://www.snobol4.org">SNOBOL4 and SPITBOL Resources</a></li>
</ul>

<h1><a class="toc-backref" id="pattern-matching-tutorial" href="#pattern-matching-tutorial">Pattern Matching Tutorial</a></h1><p>A pattern matching operation (a call to one of the match subprograms) takes a subject string and a pattern, and optionally a replacement string. The replacement string option is only allowed if the subject is a variable.</p>
<p>The pattern is matched against the subject string, and either the match fails, or it succeeds matching a contiguous sub-string. If a replacement string is specified, then the subject string is modified by replacing the matched sub-string with the given replacement.</p>

<h2><a class="toc-backref" id="pattern-matching-tutorial-concatenation-and-alternation" href="#pattern-matching-tutorial-concatenation-and-alternation">Concatenation and Alternation</a></h2><p>A pattern consists of a series of pattern elements. The pattern is built up using either the concatenation operator::</p>
<pre class = "listing"><span class="Identifier">a</span> <span class="Operator">&amp;</span> <span class="Identifier">b</span></pre><p>which means match <tt class="docutils literal"><span class="pre">a</span></tt> followed immediately by matching <tt class="docutils literal"><span class="pre">b</span></tt>, or the alternation operator::</p>
<pre class = "listing"><span class="Identifier">a</span> <span class="Keyword">or</span> <span class="Identifier">b</span></pre><p>which means first attempt to match <tt class="docutils literal"><span class="pre">a</span></tt>, and then if that does not succeed, match <tt class="docutils literal"><span class="pre">b</span></tt>.</p>
<p>There is full backtracking, which means that if a given pattern element fails to match, then previous alternatives are matched.  For example if we have the pattern::</p>
<pre class = "listing"><span class="Punctuation">(</span><span class="Identifier">a</span> <span class="Keyword">or</span> <span class="Identifier">b</span><span class="Punctuation">)</span> <span class="Operator">&amp;</span> <span class="Punctuation">(</span><span class="Identifier">c</span> <span class="Keyword">or</span> <span class="Identifier">d</span><span class="Punctuation">)</span> <span class="Operator">&amp;</span> <span class="Punctuation">(</span><span class="Identifier">e</span> <span class="Keyword">or</span> <span class="Identifier">f</span><span class="Punctuation">)</span></pre><p>First we attempt to match <tt class="docutils literal"><span class="pre">a</span></tt>, if that succeeds, then we go on to try to match <tt class="docutils literal"><span class="pre">c</span></tt>, and if that succeeds, we go on to try to match <tt class="docutils literal"><span class="pre">e</span></tt>. If <tt class="docutils literal"><span class="pre">e</span></tt> fails, then we try <tt class="docutils literal"><span class="pre">f</span></tt>. If <tt class="docutils literal"><span class="pre">f</span></tt> fails, then we go back and try matching <tt class="docutils literal"><span class="pre">d</span></tt> instead of <tt class="docutils literal"><span class="pre">c</span></tt>. Let's make this explicit using a specific example, and introducing the simplest kind of pattern element, which is a literal string. The meaning of this pattern element is simply to match the characters that correspond to the string characters. Now let's rewrite the above pattern form with specific string literals as the pattern elements::</p>
<pre class = "listing"><span class="Punctuation">(</span><span class="StringLit">&quot;abc&quot;</span> <span class="Keyword">or</span> <span class="StringLit">&quot;ab&quot;</span><span class="Punctuation">)</span> <span class="Operator">&amp;</span> <span class="Punctuation">(</span><span class="StringLit">&quot;def&quot;</span> <span class="Keyword">or</span> <span class="StringLit">&quot;cde&quot;</span><span class="Punctuation">)</span> <span class="Operator">&amp;</span> <span class="Punctuation">(</span><span class="StringLit">&quot;gh&quot;</span> <span class="Keyword">or</span> <span class="StringLit">&quot;ij&quot;</span><span class="Punctuation">)</span></pre><p>The following strings will be attempted in sequence:<pre>
abc . def . gh
abc . def . ij
abc . cde . gh
abc . cde . ij
ab . def . gh
ab . def . ij
ab . cde . gh
ab . cde . ij</pre>
</p>
<p>Here we use the dot simply to separate the pieces of the string matched by the three separate elements.</p>

<h2><a class="toc-backref" id="pattern-matching-tutorial-moving-the-start-point" href="#pattern-matching-tutorial-moving-the-start-point">Moving the start Point</a></h2><p>A pattern is not required to match starting at the first character of the string, and is not required to match to the end of the string.  The first attempt does indeed attempt to match starting at the first character of the string, trying all the possible alternatives. But if all alternatives fail, then the starting point of the match is moved one character, and all possible alternatives are attempted at the new anchor point.</p>
<p>The entire match fails only when every possible starting point has been attempted. As an example, suppose that we had the subject string::</p>
<pre class = "listing"><span class="StringLit">&quot;ababcdeijkl&quot;</span></pre><p>matched using the pattern in the previous example::</p>
<pre class = "listing"><span class="Punctuation">(</span><span class="StringLit">&quot;abc&quot;</span> <span class="Keyword">or</span> <span class="StringLit">&quot;ab&quot;</span><span class="Punctuation">)</span> <span class="Operator">&amp;</span> <span class="Punctuation">(</span><span class="StringLit">&quot;def&quot;</span> <span class="Keyword">or</span> <span class="StringLit">&quot;cde&quot;</span><span class="Punctuation">)</span> <span class="Operator">&amp;</span> <span class="Punctuation">(</span><span class="StringLit">&quot;gh&quot;</span> <span class="Keyword">or</span> <span class="StringLit">&quot;ij&quot;</span><span class="Punctuation">)</span></pre><p>would succeed, after two anchor point moves::</p>
<pre class = "listing"><span class="StringLit">&quot;ababcdeijkl&quot;</span>
   <span class="Operator">^^^^^^^</span>
   <span class="Identifier">matched</span>
   <span class="Identifier">section</span></pre><p>This mode of pattern matching is called the unanchored mode. It is also possible to put the pattern matcher into anchored mode by setting the global variable <tt class="docutils literal"><span class="pre">anchoredMode</span></tt> to <tt class="docutils literal"><span class="pre">true</span></tt>. This will cause all subsequent matches to be performed in anchored mode, where the match is required to start at the first character.</p>
<p>We will also see later how the effect of an anchored match can be obtained for a single specified anchor point if this is desired.</p>

<h2><a class="toc-backref" id="pattern-matching-tutorial-other-pattern-elements" href="#pattern-matching-tutorial-other-pattern-elements">Other Pattern Elements</a></h2><p>In addition to strings (or single characters), there are many special pattern elements that correspond to special predefined alternations:</p>
<blockquote><p><table border="1" class="docutils"><tr><th>Pattern Func</th><th>Description</th></tr>
<tr><td><tt class="docutils literal"><span class="pre">Arb</span></tt></td><td>Matches any string. First it matches the <tt class="docutils literal"><span class="pre">nil</span></tt> string, and then on a subsequent failure, matches one character, and then two characters, and so on. It only fails if the entire remaining string is matched.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">Bal</span></tt></td><td>Matches a non-empty string that is parentheses balanced with respect to ordinary <tt class="docutils literal"><span class="pre">()</span></tt> characters. Examples of balanced strings are <tt class="docutils literal"><span class="pre">&quot;abc&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;a((b)c)&quot;</span></tt>, and <tt class="docutils literal"><span class="pre">&quot;a(b)c(d)e&quot;</span></tt>. Bal matches the shortest possible balanced string on the first attempt, and if there is a subsequent failure, attempts to extend the string.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">Abort</span></tt></td><td>Immediately aborts the entire pattern match, signaling failure. This is a specialized pattern element, which is useful in conjunction with some of the special pattern elements that have side effects.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">Fail</span></tt></td><td>The <tt class="docutils literal"><span class="pre">nil</span></tt> alternation. Matches no possible strings, so it always signals failure. This is a specialized pattern element, which is useful in conjunction with some of the special pattern elements that have side effects.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">Fence</span></tt></td><td>Matches the <tt class="docutils literal"><span class="pre">nil</span></tt> string at first, and then if a failure causes alternatives to be sought, aborts the match (like an <tt class="docutils literal"><span class="pre">Abort</span></tt>). Note that using <tt class="docutils literal"><span class="pre">Fence</span></tt> at the start of a pattern has the same effect as matching in anchored mode.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">Rem</span></tt></td><td>Matches from the current point to the last character in the string. This is a specialized pattern element, which is useful in conjunction with some of the special pattern elements that have side effects.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">Succeed</span></tt></td><td>Repeatedly matches the <tt class="docutils literal"><span class="pre">nil</span></tt> string (it is equivalent to the alternation <tt class="docutils literal"><span class="pre">(&quot;&quot; or &quot;&quot; or &quot;&quot; ....)</span></tt>. This is a special pattern element, which is useful in conjunction with some of the special pattern elements that have side effects.</td></tr>
</table></p></blockquote>

<h2><a class="toc-backref" id="pattern-matching-tutorial-pattern-construction-functions" href="#pattern-matching-tutorial-pattern-construction-functions">Pattern Construction Functions</a></h2><p>The following functions construct additional pattern elements:</p>
<blockquote><p><table border="1" class="docutils"><tr><th>Pattern Func</th><th>Description</th></tr>
<tr><td><tt class="docutils literal"><span class="pre">Any(s)</span></tt></td><td>Where <tt class="docutils literal"><span class="pre">s</span></tt> is a string, matches a single character that is any one of the characters in <tt class="docutils literal"><span class="pre">s</span></tt>. Fails if the current character is not one of the given set of characters.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">Arbno(p)</span></tt></td><td>Where <tt class="docutils literal"><span class="pre">p</span></tt> is any pattern, matches any number of instances of the pattern, starting with zero occurrences. It is thus equivalent to <tt class="docutils literal"><span class="pre">(&quot;&quot; or (p &amp; (&quot;&quot; or (p &amp; (&quot;&quot; ....)))))</span></tt>.  The pattern <tt class="docutils literal"><span class="pre">p</span></tt> may contain any number of pattern elements including the use of alternation and concatenation.</td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">Bal(o, c)</span></tt></td><td>Matches a non-empty string that is balanced with respect to the open and close characters <tt class="docutils literal"><span class="pre">o</span></tt> and <tt class="docutils literal"><span class="pre">c</span></tt>, provided. Examples of balanced strings are <tt class="docutils literal"><span class="pre">&quot;abc&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;a[[b]c]&quot;</span></tt>, and <tt class="docutils literal"><span class="pre">&quot;a{b}c{d}e&quot;</span></tt>.  Bal matches the shortest possible balanced string on the first attempt, and if there is a subsequent failure, attempts to extend the string.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">Break(s)</span></tt></td><td>Where <tt class="docutils literal"><span class="pre">s</span></tt> is a string, matches a string of zero or more characters up to but not including a break character that is one of the characters given in the string <tt class="docutils literal"><span class="pre">s</span></tt>.  Can match the <tt class="docutils literal"><span class="pre">nil</span></tt> string, but cannot match the last character in the string, since a break character is required to be present.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">BreakX(s)</span></tt></td><td>Where <tt class="docutils literal"><span class="pre">s</span></tt> is a string, behaves exactly like <tt class="docutils literal"><span class="pre">Break(s)</span></tt> when it first matches, but if a string is successfully matched, then a subsequent failure causes an attempt to extend the matched string.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">Fence(p)</span></tt></td><td>Where <tt class="docutils literal"><span class="pre">p</span></tt> is a pattern, attempts to match the pattern <tt class="docutils literal"><span class="pre">p</span></tt> including trying all possible alternatives of <tt class="docutils literal"><span class="pre">p</span></tt>. If none of these alternatives succeeds, then the Fence pattern fails. If one alternative succeeds, then the pattern match proceeds, but on a subsequent failure, no attempt is made to search for alternative matches of <tt class="docutils literal"><span class="pre">p</span></tt>. The pattern <tt class="docutils literal"><span class="pre">p</span></tt> may contain any number of pattern elements including the use of alternation and concatenation.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">Len(n)</span></tt></td><td>Where <tt class="docutils literal"><span class="pre">n</span></tt> is a natural number, matches the given number of characters. For example, <tt class="docutils literal"><span class="pre">Len(10)</span></tt> matches any string that is exactly ten characters long.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">NotAny(s)</span></tt></td><td>Where <tt class="docutils literal"><span class="pre">s</span></tt> is a string, matches a single character that is not one of the characters of <tt class="docutils literal"><span class="pre">s</span></tt>. Fails if the current character is one of the given set of characters.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">NSpan(s)</span></tt></td><td>Where <tt class="docutils literal"><span class="pre">s</span></tt> is a string, matches a string of zero or more characters that is among the characters given in the string. Always matches the longest possible such string. Always succeeds, since it can match the <tt class="docutils literal"><span class="pre">nil</span></tt> string.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">Pos(n)</span></tt></td><td>Where <tt class="docutils literal"><span class="pre">n</span></tt> is a natural number, matches the <tt class="docutils literal"><span class="pre">nil</span></tt> string if exactly <tt class="docutils literal"><span class="pre">n</span></tt> characters have been matched so far, and otherwise fails.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">Rpos(n)</span></tt></td><td>Where <tt class="docutils literal"><span class="pre">n</span></tt> is a natural number, matches the <tt class="docutils literal"><span class="pre">nil</span></tt> string if exactly <tt class="docutils literal"><span class="pre">n</span></tt> characters remain to be matched, and otherwise fails.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">Rtab(n)</span></tt></td><td>Where <tt class="docutils literal"><span class="pre">n</span></tt> is a natural number, matches characters from the current position until exactly <tt class="docutils literal"><span class="pre">n</span></tt> characters remain to be matched in the string. Fails if fewer than <tt class="docutils literal"><span class="pre">n</span></tt> unmatched characters remain in the string.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">Tab(n)</span></tt></td><td>Where <tt class="docutils literal"><span class="pre">n</span></tt> is a natural number, matches characters from the start of the subject string until exactly <tt class="docutils literal"><span class="pre">n</span></tt> characters have been matched in all. Fails if more than <tt class="docutils literal"><span class="pre">n</span></tt> characters have already been matched.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">Span(s)</span></tt></td><td>Where <tt class="docutils literal"><span class="pre">s</span></tt> is a string, matches a string of one or more characters that is among the characters given in the string. Always matches the longest possible such string. Fails if the current character is not one of the given set of characters.</td></tr>
</table></p></blockquote>

<h2><a class="toc-backref" id="pattern-matching-tutorial-recursive-pattern-matching" href="#pattern-matching-tutorial-recursive-pattern-matching">Recursive Pattern Matching</a></h2><p>The plus operator <tt class="docutils literal"><span class="pre">(+p)</span></tt> where <tt class="docutils literal"><span class="pre">p</span></tt> is a pattern variable, creates a recursive pattern that will, at pattern matching time, follow the pointer to obtain the referenced pattern, and then match this pattern. This may be used to construct recursive patterns. Consider for example::</p>
<pre class = "listing"><span class="Keyword">var</span> <span class="Identifier">p</span> <span class="Operator">=</span> <span class="Punctuation">(</span><span class="StringLit">&quot;a&quot;</span> <span class="Keyword">or</span> <span class="Punctuation">(</span><span class="StringLit">&quot;b&quot;</span> <span class="Operator">&amp;</span> <span class="Punctuation">(</span><span class="Operator">+</span><span class="Identifier">p</span><span class="Punctuation">)</span><span class="Punctuation">)</span><span class="Punctuation">)</span></pre><p>On the first attempt, this pattern attempts to match the string <tt class="docutils literal"><span class="pre">&quot;a&quot;</span></tt>.  If this fails, then the alternative matches a <tt class="docutils literal"><span class="pre">&quot;b&quot;</span></tt>, followed by an attempt to match <tt class="docutils literal"><span class="pre">p</span></tt> again. This second attempt first attempts to match <tt class="docutils literal"><span class="pre">&quot;a&quot;</span></tt>, and so on. The result is a pattern that will match a string of b's followed by a single <tt class="docutils literal"><span class="pre">'a'</span></tt>.</p>
<p>This particular example could simply be written as <tt class="docutils literal"><span class="pre">NSpan('b') &amp; 'a'</span></tt>, but the use of recursive patterns in the general case can construct complex patterns which could not otherwise be built.</p>

<h2><a class="toc-backref" id="pattern-matching-tutorial-pattern-assignment-operations" href="#pattern-matching-tutorial-pattern-assignment-operations">Pattern Assignment Operations</a></h2><p>In addition to the overall result of a pattern match, which indicates success or failure, it is often useful to be able to keep track of the pieces of the subject string that are matched by individual pattern elements, or subsections of the pattern.</p>
<p>The pattern assignment operators allow this capability. The first form is the immediate assignment::</p>
<pre class = "listing"><span class="Identifier">p</span> <span class="Operator">*</span> <span class="Identifier">s</span></pre><p>Here <tt class="docutils literal"><span class="pre">p</span></tt> is an arbitrary pattern, and <tt class="docutils literal"><span class="pre">s</span></tt> is a variable of type string that will be set to the substring matched by p. This assignment happens during pattern matching, so if <tt class="docutils literal"><span class="pre">p</span></tt> matches more than once, then the assignment happens more than once.</p>
<p>The deferred assignment operation::</p>
<pre class = "listing"><span class="Identifier">p</span> <span class="Operator">**</span> <span class="Identifier">s</span></pre><p>avoids these multiple assignments by deferring the assignment to the end of the match. If the entire match is successful, and if the pattern <tt class="docutils literal"><span class="pre">p</span></tt> was part of the successful match, then at the end of the matching operation the assignment to <tt class="docutils literal"><span class="pre">s</span></tt> of the string matching <tt class="docutils literal"><span class="pre">p</span></tt> is performed.</p>
<p>The cursor assignment operation::</p>
<pre class = "listing"><span class="Keyword">var</span> <span class="Identifier">n</span><span class="Punctuation">:</span> <span class="Identifier">Natural</span> <span class="Operator">=</span> <span class="Operator">...</span>
<span class="Identifier">Setcur</span><span class="Punctuation">(</span><span class="Keyword">addr</span><span class="Punctuation">(</span><span class="Identifier">n</span><span class="Punctuation">)</span><span class="Punctuation">)</span></pre><p>assigns the current cursor position to the natural variable <tt class="docutils literal"><span class="pre">n</span></tt>. The cursor position is defined as the count of characters that have been matched so far (including any start point moves).</p>
<p>A reference variable may also be used to assigns the current cursor position, e.g.::</p>
<pre class = "listing"><span class="Keyword">var</span> <span class="Identifier">n</span><span class="Punctuation">:</span> <span class="Keyword">ref</span> <span class="Identifier">Natural</span>
<span class="Identifier">new</span><span class="Punctuation">(</span><span class="Identifier">n</span><span class="Punctuation">)</span>
<span class="Identifier">n</span><span class="Punctuation">[</span><span class="Punctuation">]</span> <span class="Operator">=</span> <span class="Operator">...</span>
<span class="Identifier">Setcur</span><span class="Punctuation">(</span><span class="Identifier">n</span><span class="Punctuation">)</span></pre><p>Finally the operations <tt class="docutils literal"><span class="pre">*</span></tt> and <tt class="docutils literal"><span class="pre">**</span></tt> may be used with values of type <tt class="docutils literal"><span class="pre">ptr File</span></tt> or <tt class="docutils literal"><span class="pre">ref File</span></tt>. The effect is to do a putLine operation of the matched substring. These are particularly useful in debugging pattern matches.</p>

<h2><a class="toc-backref" id="pattern-matching-tutorial-deferred-matching" href="#pattern-matching-tutorial-deferred-matching">Deferred Matching</a></h2><p>The pattern construction functions (such as <tt class="docutils literal"><span class="pre">Len</span></tt> and <tt class="docutils literal"><span class="pre">Any</span></tt>) all permit the use of pointers to natural or string values, or functions that return natural or string values. These forms cause the actual value to be obtained at pattern matching time. This allows interesting possibilities for constructing dynamic patterns as illustrated in the examples section.</p>
<p>In addition the <tt class="docutils literal"><span class="pre">(+s)</span></tt> operator may be used where <tt class="docutils literal"><span class="pre">s</span></tt> is a pointer to string or function returning string, with a similar deferred effect.</p>
<p>A special use of deferred matching is the construction of predicate functions. The element <tt class="docutils literal"><span class="pre">(+p)</span></tt> where <tt class="docutils literal"><span class="pre">p</span></tt> is an access to a function that returns a bool value, causes the function to be called at the time the element is matched. If the function returns true, then the <tt class="docutils literal"><span class="pre">nil</span></tt> string is matched, if the function returns false, then failure is signalled and previous alternatives are sought.</p>

<h2><a class="toc-backref" id="pattern-matching-tutorial-deferred-replacement" href="#pattern-matching-tutorial-deferred-replacement">Deferred Replacement</a></h2><p>The simple model given for pattern replacement (where the matched sub-string is replaced by the string given as the third argument to match) works fine in simple cases, but this approach does not work in the case where the expression used as the replacement string is dependent on values set by the match.</p>
<p>For example, suppose we want to find an instance of a parenthesized character, and replace the parentheses with square brackets. At first glance it would seem that::</p>
<pre class = "listing"><span class="Identifier">match</span><span class="Punctuation">(</span><span class="Identifier">subject</span><span class="Punctuation">,</span> <span class="CharLit">'('</span> <span class="Operator">&amp;</span> <span class="Identifier">Len</span><span class="Punctuation">(</span><span class="DecNumber">1</span><span class="Punctuation">)</span> <span class="Operator">*</span> <span class="Identifier">c</span> <span class="Operator">&amp;</span> <span class="CharLit">')'</span><span class="Punctuation">,</span> <span class="CharLit">'['</span> <span class="Operator">&amp;</span> <span class="Identifier">c</span> <span class="Operator">&amp;</span> <span class="CharLit">']'</span><span class="Punctuation">)</span></pre><p>would do the trick, but that does not work, because the third argument to match gets evaluated too early, before the call to match, and before the pattern match has had a chance to set <tt class="docutils literal"><span class="pre">c</span></tt>.</p>
<p>To solve this problem we provide the deferred replacement capability.  With this approach, which of course is only needed if the pattern involved has side effects, is to do the match in two stages. The call to match sets a pattern result in a variable of the private type MatchResult, and then a subsequent <tt class="docutils literal"><span class="pre">replace</span></tt> operation uses this <tt class="docutils literal"><span class="pre">MatchResult</span></tt> object to perform the required replacement.</p>
<p>Using this approach, we can now write the above operation properly in a manner that will work::</p>
<pre class = "listing"><span class="Keyword">var</span> <span class="Identifier">m</span> <span class="Punctuation">:</span> <span class="Identifier">MatchResult</span>
<span class="Operator">...</span>
<span class="Identifier">match</span><span class="Punctuation">(</span><span class="Identifier">subject</span><span class="Punctuation">,</span> <span class="CharLit">'('</span> <span class="Operator">&amp;</span> <span class="Identifier">Len</span><span class="Punctuation">(</span><span class="DecNumber">1</span><span class="Punctuation">)</span> <span class="Operator">*</span> <span class="Identifier">c</span> <span class="Operator">&amp;</span> <span class="CharLit">')'</span><span class="Punctuation">,</span> <span class="Identifier">m</span><span class="Punctuation">)</span>
<span class="Identifier">replace</span><span class="Punctuation">(</span><span class="Identifier">m</span><span class="Punctuation">,</span> <span class="CharLit">'['</span> <span class="Operator">&amp;</span> <span class="Identifier">c</span> <span class="Operator">&amp;</span> <span class="CharLit">']'</span><span class="Punctuation">)</span></pre><p>As with other match cases, there is a function and function form of this match call. A call to <tt class="docutils literal"><span class="pre">replace</span></tt> after a failed match has no effect. Note that subject should not be modified between the calls.</p>

<h2><a class="toc-backref" id="pattern-matching-tutorial-examples-of-pattern-matching" href="#pattern-matching-tutorial-examples-of-pattern-matching">Examples of Pattern Matching</a></h2><p>First a simple example of the use of pattern replacement to remove a line number from the start of a string. We assume that the line number has the form of a string of decimal digits followed by a period, followed by one or more spaces::</p>
<pre class = "listing"><span class="Keyword">let</span> <span class="Identifier">digs</span> <span class="Operator">=</span> <span class="Identifier">Span</span><span class="Punctuation">(</span><span class="StringLit">&quot;0123456789&quot;</span><span class="Punctuation">)</span>

<span class="Keyword">let</span> <span class="Identifier">lNum</span> <span class="Operator">=</span> <span class="Identifier">Pos</span><span class="Punctuation">(</span><span class="DecNumber">0</span><span class="Punctuation">)</span> <span class="Operator">&amp;</span> <span class="Identifier">digs</span> <span class="Operator">&amp;</span> <span class="CharLit">'.'</span> <span class="Operator">&amp;</span> <span class="Identifier">Span</span><span class="Punctuation">(</span><span class="CharLit">' '</span><span class="Punctuation">)</span></pre><p>Now to use this pattern we simply do a match with a replacement::</p>
<pre class = "listing"><span class="Identifier">match</span><span class="Punctuation">(</span><span class="Identifier">Line</span><span class="Punctuation">,</span> <span class="Identifier">Lnum</span><span class="Punctuation">,</span> <span class="StringLit">&quot;&quot;</span><span class="Punctuation">)</span></pre><p>which replaces the line number by the <tt class="docutils literal"><span class="pre">nil</span></tt> string. Note that it is also possible to use a <tt class="docutils literal"><span class="pre">CharacterSet</span></tt> value as an argument to <tt class="docutils literal"><span class="pre">Span</span></tt> and similar functions, and in particular all the useful constants in are available. This means that we could define <tt class="docutils literal"><span class="pre">digs</span></tt> as::</p>
<pre class = "listing"><span class="Keyword">let</span> <span class="Identifier">digs</span> <span class="Operator">=</span> <span class="Identifier">Span</span><span class="Punctuation">(</span><span class="Identifier">digit</span><span class="Punctuation">)</span></pre><p>The style we use here, of defining constant patterns and then using them is typical. It is possible to build up patterns dynamically, but it is usually more efficient to build them in pieces in advance using constant declarations. Note in particular that although it is possible to construct a pattern directly as an argument for the match routine, it is much more efficient to preconstruct the pattern as we did in this example.</p>
<p>Now let's look at the use of pattern assignment to break a string into sections. Suppose that the input string has two unsigned decimal integers, separated by spaces or a comma, with spaces allowed anywhere. Then we can isolate the two numbers with the following pattern::</p>
<pre class = "listing"><span class="Identifier">num1</span><span class="Punctuation">,</span> <span class="Identifier">num2</span> <span class="Punctuation">:</span> <span class="Identifier">string</span>

<span class="Keyword">let</span> <span class="Identifier">b</span> <span class="Operator">=</span> <span class="Identifier">NSpan</span><span class="Punctuation">(</span><span class="CharLit">' '</span><span class="Punctuation">)</span>

<span class="Keyword">let</span> <span class="Identifier">n</span> <span class="Operator">=</span> <span class="Identifier">Span</span><span class="Punctuation">(</span><span class="StringLit">&quot;0123456789&quot;</span><span class="Punctuation">)</span>

<span class="Keyword">let</span> <span class="Identifier">t</span> <span class="Operator">=</span> <span class="Identifier">NSpan</span><span class="Punctuation">(</span><span class="CharLit">' '</span><span class="Punctuation">)</span> <span class="Operator">&amp;</span> <span class="Identifier">n</span> <span class="Operator">*</span> <span class="Identifier">num1</span> <span class="Operator">&amp;</span> <span class="Identifier">Span</span><span class="Punctuation">(</span><span class="StringLit">&quot; ,&quot;</span><span class="Punctuation">)</span> <span class="Operator">&amp;</span> <span class="Identifier">n</span> <span class="Operator">*</span> <span class="Identifier">num2</span></pre><p>The match operation <tt class="docutils literal"><span class="pre">match(&quot; 124, 257 &quot;, t)</span></tt> would assign the string <tt class="docutils literal"><span class="pre">124</span></tt> to <tt class="docutils literal"><span class="pre">num1</span></tt> and the string <tt class="docutils literal"><span class="pre">257</span></tt> to <tt class="docutils literal"><span class="pre">num2</span></tt>.</p>
<p>Now let's see how more complex elements can be built from the set of primitive elements. The following pattern matches strings that have the syntax of Ada 95 based literals::</p>
<pre class = "listing"><span class="Keyword">let</span> <span class="Identifier">digs</span>  <span class="Operator">=</span> <span class="Identifier">Span</span><span class="Punctuation">(</span><span class="Identifier">digit</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">uDigs</span> <span class="Operator">=</span> <span class="Identifier">digs</span> <span class="Operator">&amp;</span> <span class="Identifier">Arbno</span><span class="Punctuation">(</span><span class="CharLit">'_'</span> <span class="Operator">&amp;</span> <span class="Identifier">digs</span><span class="Punctuation">)</span>

<span class="Keyword">let</span> <span class="Identifier">eDig</span>  <span class="Operator">=</span> <span class="Identifier">Span</span><span class="Punctuation">(</span><span class="Identifier">hexaDigit</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">uEdig</span> <span class="Operator">=</span> <span class="Identifier">edig</span> <span class="Operator">&amp;</span> <span class="Identifier">Arbno</span><span class="Punctuation">(</span><span class="CharLit">'_'</span> <span class="Operator">&amp;</span> <span class="Identifier">edig</span><span class="Punctuation">)</span>

<span class="Keyword">let</span> <span class="Identifier">bNum</span> <span class="Operator">=</span> <span class="Identifier">uDigs</span> <span class="Operator">&amp;</span> <span class="CharLit">'#'</span> <span class="Operator">&amp;</span> <span class="Identifier">uEdig</span> <span class="Operator">&amp;</span> <span class="CharLit">'#'</span></pre><p>A match against bNum will now match the desired strings, e.g.  it will match <tt class="docutils literal"><span class="pre">16#123_abc#</span></tt>, but not <tt class="docutils literal"><span class="pre">a#b#</span></tt>. However, this pattern is not quite complete, since it does not allow colons to replace the pound signs. The following is more complete::</p>
<pre class = "listing"><span class="Keyword">let</span> <span class="Identifier">bChar</span> <span class="Operator">=</span> <span class="Identifier">Any</span><span class="Punctuation">(</span><span class="StringLit">&quot;#:&quot;</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">bNum</span>  <span class="Operator">=</span> <span class="Identifier">uDigs</span> <span class="Operator">&amp;</span> <span class="Identifier">bChar</span> <span class="Operator">&amp;</span> <span class="Identifier">uEdig</span> <span class="Operator">&amp;</span> <span class="Identifier">bChar</span></pre><p>but that is still not quite right, since it allows <tt class="docutils literal"><span class="pre">#</span></tt> and <tt class="docutils literal"><span class="pre">:</span></tt> to be mixed, and they are supposed to be used consistently. We solve this by using a deferred match::</p>
<pre class = "listing"><span class="Identifier">temp</span>  <span class="Punctuation">:</span> <span class="Identifier">string</span>

<span class="Identifier">bNum</span>  <span class="Operator">=</span> <span class="Identifier">Udigs</span> <span class="Operator">&amp;</span> <span class="Identifier">Bchar</span> <span class="Operator">*</span> <span class="Identifier">temp</span> <span class="Operator">&amp;</span> <span class="Identifier">UEdig</span> <span class="Operator">&amp;</span> <span class="Punctuation">(</span><span class="Operator">+</span><span class="Identifier">Temp</span><span class="Punctuation">)</span></pre><p>Here the first instance of the base character is stored in <tt class="docutils literal"><span class="pre">temp</span></tt>, and then later in the pattern we rematch the value that was assigned.</p>
<p>For an example of a recursive pattern, let's define a pattern that is like the built in <tt class="docutils literal"><span class="pre">Bal</span></tt>, but the string matched is balanced with respect to square brackets or curly brackets.</p>
<p>The language for such strings might be defined in extended BNF as::</p>
<pre class = "listing"><span class="Identifier">ELEMENT</span> <span class="Punctuation">:</span><span class="Punctuation">:</span><span class="Operator">=</span> <span class="Operator">&lt;</span><span class="Identifier">any</span> <span class="Identifier">character</span> <span class="Identifier">other</span> <span class="Identifier">than</span> <span class="Punctuation">[</span><span class="Punctuation">]</span> <span class="Keyword">or</span> <span class="Punctuation">{</span><span class="Punctuation">}</span><span class="Operator">&gt;</span>
            <span class="Operator">|</span> <span class="CharLit">'['</span> <span class="Identifier">BALANCED_STRING</span> <span class="CharLit">']'</span>
            <span class="Operator">|</span> <span class="CharLit">'{'</span> <span class="Identifier">BALANCED_STRING</span> <span class="CharLit">'}'</span>

<span class="Identifier">BALANCED_STRING</span> <span class="Punctuation">:</span><span class="Punctuation">:</span><span class="Operator">=</span> <span class="Identifier">ELEMENT</span> <span class="Punctuation">{</span><span class="Identifier">ELEMENT</span><span class="Punctuation">}</span></pre><p>Here we use <tt class="docutils literal"><span class="pre">{}</span></tt> to indicate zero or more occurrences of a term, as is common practice in extended BNF. Now we can translate the above BNF into recursive patterns as follows::</p>
<pre class = "listing"><span class="Identifier">Element</span><span class="Punctuation">,</span> <span class="Identifier">Balanced_String</span> <span class="Punctuation">:</span> <span class="Identifier">Pattern</span>
<span class="Operator">.</span>
<span class="Operator">.</span>
<span class="Operator">.</span>
<span class="Identifier">Element</span> <span class="Operator">=</span> <span class="Identifier">NotAny</span> <span class="Punctuation">(</span><span class="StringLit">&quot;[]{}&quot;</span><span class="Punctuation">)</span>
            <span class="Keyword">or</span>
          <span class="Punctuation">(</span><span class="CharLit">'['</span> <span class="Operator">&amp;</span> <span class="Punctuation">(</span><span class="Operator">+</span><span class="Identifier">Balanced_String</span><span class="Punctuation">)</span> <span class="Operator">&amp;</span> <span class="CharLit">']'</span><span class="Punctuation">)</span>
            <span class="Keyword">or</span>
          <span class="Punctuation">(</span><span class="CharLit">'{'</span> <span class="Operator">&amp;</span> <span class="Punctuation">(</span><span class="Operator">+</span><span class="Identifier">Balanced_String</span><span class="Punctuation">)</span> <span class="Operator">&amp;</span> <span class="CharLit">'}'</span><span class="Punctuation">)</span>

<span class="Identifier">Balanced_String</span> <span class="Operator">=</span> <span class="Identifier">Element</span> <span class="Operator">&amp;</span> <span class="Identifier">Arbno</span><span class="Punctuation">(</span><span class="Identifier">Element</span><span class="Punctuation">)</span></pre><p>Note the important use of <tt class="docutils literal"><span class="pre">+</span></tt> here to refer to a pattern not yet defined. Note also that we use assignments precisely because we cannot refer to as yet undeclared variables in initializations.</p>
<p>Now that this pattern is constructed, we can use it as though it were a new primitive pattern element, and for example, the match::</p>
<pre class = "listing"><span class="Identifier">match</span><span class="Punctuation">(</span><span class="StringLit">&quot;xy[ab{cd}]&quot;</span><span class="Punctuation">,</span> <span class="Identifier">Balanced_String</span> <span class="Operator">*</span> <span class="Identifier">Current_Output</span> <span class="Operator">&amp;</span> <span class="Identifier">Fail</span><span class="Punctuation">)</span></pre><p>will generate the output:</p>
<pre class = "listing"><span class="Identifier">x</span>
<span class="Identifier">xy</span>
<span class="Identifier">xy</span><span class="Punctuation">[</span><span class="Identifier">ab</span><span class="Punctuation">{</span><span class="Identifier">cd</span><span class="Punctuation">}</span><span class="Punctuation">]</span>
<span class="Identifier">y</span>
<span class="Identifier">y</span><span class="Punctuation">[</span><span class="Identifier">ab</span><span class="Punctuation">{</span><span class="Identifier">cd</span><span class="Punctuation">}</span><span class="Punctuation">]</span>
<span class="Punctuation">[</span><span class="Identifier">ab</span><span class="Punctuation">{</span><span class="Identifier">cd</span><span class="Punctuation">}</span><span class="Punctuation">]</span>
<span class="Identifier">a</span>
<span class="Identifier">ab</span>
<span class="Identifier">ab</span><span class="Punctuation">{</span><span class="Identifier">cd</span><span class="Punctuation">}</span>
<span class="Identifier">b</span>
<span class="Identifier">b</span><span class="Punctuation">{</span><span class="Identifier">cd</span><span class="Punctuation">}</span>
<span class="Punctuation">{</span><span class="Identifier">cd</span><span class="Punctuation">}</span>
<span class="Identifier">c</span>
<span class="Identifier">cd</span>
<span class="Identifier">d</span></pre><p>Note that the function of the fail here is simply to force the pattern Balanced_String to match all possible alternatives. Studying the operation of this pattern in detail is highly instructive.</p>
<p>Finally we give a rather elaborate example of the use of deferred matching. The following declarations build up a pattern which will find the longest string of decimal digits in the subject string</p>
<pre class = "listing"><span class="Keyword">var</span> <span class="Identifier">max</span><span class="Punctuation">,</span> <span class="Identifier">Cur</span><span class="Punctuation">:</span> <span class="Identifier">string</span>
<span class="Keyword">var</span> <span class="Identifier">loc</span> <span class="Punctuation">:</span> <span class="Identifier">Natural</span>

<span class="Keyword">proc</span> <span class="Identifier">gts</span><span class="Punctuation">:</span> <span class="Identifier">bool</span> <span class="Operator">=</span>
  <span class="Keyword">return</span> <span class="Identifier">cur</span><span class="Operator">.</span><span class="Identifier">len</span> <span class="Operator">&gt;</span> <span class="Identifier">max</span><span class="Operator">.</span><span class="Identifier">len</span>

<span class="Keyword">let</span> <span class="Identifier">digs</span> <span class="Operator">=</span> <span class="Identifier">Span</span><span class="Punctuation">(</span><span class="Identifier">digit</span><span class="Punctuation">)</span>

<span class="Keyword">let</span> <span class="Identifier">find</span> <span class="Operator">=</span>
  <span class="StringLit">&quot;&quot;</span> <span class="Operator">*</span> <span class="Identifier">max</span> <span class="Operator">&amp;</span> <span class="Identifier">Fence</span>            <span class="Operator">&amp;</span> <span class="Comment"># initialize max to nil</span>
  <span class="Identifier">BreakX</span><span class="Punctuation">(</span><span class="Identifier">digit</span><span class="Punctuation">)</span>               <span class="Operator">&amp;</span> <span class="Comment"># scan looking for digits</span>
  <span class="Punctuation">(</span><span class="Punctuation">(</span><span class="Identifier">Span</span><span class="Punctuation">(</span><span class="Identifier">digit</span><span class="Punctuation">)</span><span class="Operator">*</span><span class="Identifier">cur</span>           <span class="Operator">&amp;</span> <span class="Comment"># assign next string to cur</span>
   <span class="Punctuation">(</span><span class="Operator">+</span><span class="Identifier">gts</span><span class="Punctuation">)</span>                     <span class="Operator">&amp;</span> <span class="Comment"># check size(cur) &gt; Size(max)</span>
   <span class="Identifier">Setcur</span><span class="Punctuation">(</span><span class="Keyword">addr</span><span class="Punctuation">(</span><span class="Identifier">loc</span><span class="Punctuation">)</span><span class="Punctuation">)</span><span class="Punctuation">)</span>           <span class="Comment"># if so, save location</span>
            <span class="Operator">*</span> <span class="Identifier">max</span><span class="Punctuation">)</span>            <span class="Operator">&amp;</span> <span class="Comment"># and assign to max</span>
  <span class="Identifier">Fail</span><span class="Punctuation">(</span><span class="Punctuation">)</span>                        <span class="Comment"># seek all alternatives</span></pre><p>As we see from the comments here, complex patterns like this take on aspects of sequential programs. In fact they are sequential programs with general backtracking. In this pattern, we first use a pattern assignment that matches <tt class="docutils literal"><span class="pre">nil</span></tt> and assigns it to <tt class="docutils literal"><span class="pre">max</span></tt>, so that it is initialized for the new match. Now <tt class="docutils literal"><span class="pre">BreakX</span></tt> scans to the next digit. Arb would do here, but <tt class="docutils literal"><span class="pre">BreakX</span></tt> will be more efficient.  Once we have found a digit, we scan out the longest string of digits with Span, and assign it to <tt class="docutils literal"><span class="pre">cur</span></tt>. The deferred call to <tt class="docutils literal"><span class="pre">gts</span></tt> tests if the string we assigned to <tt class="docutils literal"><span class="pre">cur</span></tt> is the longest so far. If not, then failure is signalled, and we seek alternatives (this means that <tt class="docutils literal"><span class="pre">BreakX</span></tt> will extend and look for the next digit string). If the call to <tt class="docutils literal"><span class="pre">gts</span></tt> succeeds then the matched string is assigned as the largest string so far into <tt class="docutils literal"><span class="pre">max</span></tt> and its location is saved in <tt class="docutils literal"><span class="pre">loc</span></tt>. Finally <tt class="docutils literal"><span class="pre">Fail</span></tt> forces the match to fail and seek alternatives, so that the entire string is searched.</p>
<p>If the pattern <tt class="docutils literal"><span class="pre">find</span></tt> is matched against a string, the variable <tt class="docutils literal"><span class="pre">max</span></tt> at the end of the pattern will have the longest string of digits, and <tt class="docutils literal"><span class="pre">loc</span></tt> will be the starting character location of the string. For example, <tt class="docutils literal"><span class="pre">match(&quot;ab123cd4657ef23&quot;, find)</span></tt> will assign <tt class="docutils literal"><span class="pre">&quot;4657&quot;</span></tt> to <tt class="docutils literal"><span class="pre">max</span></tt> and <tt class="docutils literal"><span class="pre">11</span></tt> to <tt class="docutils literal"><span class="pre">loc</span></tt> (indicating that the string ends with the eleventh character of the string).</p>
<p>Note: the use of <tt class="docutils literal"><span class="pre">ptr</span></tt> to <tt class="docutils literal"><span class="pre">gts</span></tt> will not be needed if <tt class="docutils literal"><span class="pre">gts</span></tt> is defined at the outer level, but definitely will be necessary if <tt class="docutils literal"><span class="pre">gts</span></tt> is a nested function (in which case of course the scope of the pattern <tt class="docutils literal"><span class="pre">find</span></tt> will be restricted to this nested scope, and this cannot be checked, i.e. use of the pattern outside this scope is erroneous). Generally it is a good idea to define patterns and the functions they call at the outer level where possible, to avoid such problems.</p>

<h2><a class="toc-backref" id="pattern-matching-tutorial-correspondence-with-pattern-matching-in-spitbol" href="#pattern-matching-tutorial-correspondence-with-pattern-matching-in-spitbol">Correspondence with Pattern Matching in SPITBOL</a></h2><p>Generally the Nim syntax and names correspond closely to SPITBOL syntax for pattern matching construction.</p>
<p>The basic pattern construction operators are renamed as follows:</p>
<table border="1" class="docutils"><tr><th>SPITBOL</th><th>Nim</th></tr>
<tr><td>(space)</td><td>&amp;</td></tr>
<tr><td>|</td><td>or</td></tr>
<tr><td>$</td><td>*</td></tr>
<tr><td>.</td><td>**</td></tr>
</table><p>The Nim operators were chosen so that the relative precedences of these operators corresponds to that of the SPITBOL operators, but as always, the use of parentheses is advisable to clarify.</p>
<p>The actual pattern matching syntax is modified in Nim as follows:</p>
<table border="1" class="docutils"><tr><th>SPITBOL</th><th>Nim</th></tr>
<tr><td>x y</td><td>match(x, y)</td></tr>
<tr><td>x y = z</td><td>match(x, y, z)</td></tr>
</table><p>and pattern failure is indicated by returning a bool result from the match function (true for success, false for failure).</p>

<h1><a class="toc-backref" id="description-of-algorithm-and-data-structures" href="#description-of-algorithm-and-data-structures">Description of Algorithm and Data Structures</a></h1><p>A pattern structure is represented as a linked graph of nodes with the following structure:<pre>
+------------------------------------+
I                pCode               I
+------------------------------------+
I                index               I
+------------------------------------+
I                pThen               I
+------------------------------------+
I             parameter(s)           I
+------------------------------------+

``pCode`` is a code value indicating the type of the pattern node. This
code is used both as the discriminant value for the record, and as the
case index in the main match routine that branches to the proper match
code for the given element.

``index`` is a serial index number. The use of these serial index numbers
is described in a separate section.

``pThen`` is a pointer to the successor node, i.e the node to be matched
if the attempt to match the node succeeds. If this is the last node of
the pattern to be matched, then Pthen points to a dummy node of kind
pcEOP (end of pattern), which initializes pattern exit.

The parameter or parameters are present for certain node types, and the
type varies with the pattern code.</pre>
</p>
Note: the data structures and general approach used in this implementation are derived from the original MINIMAL sources for SPITBOL. The code is not a direct translation, but the approach is followed closely. In particular, we use the one stack approach developed in the SPITBOL implementation.
<h1><a class="toc-backref" id="pattern-matching-operations" href="#pattern-matching-operations">Pattern Matching Operations</a></h1><p>The match function performs an actual pattern matching operation.  The versions with three parameters perform a match without modifying the subject string and return a bool result indicating if the match is successful or not. The Anchor parameter is set to true to obtain an anchored match in which the pattern is required to match the first character of the string. In an unanchored match, which is</p>
<p>the default, successive attempts are made to match the given pattern at each character of the subject string until a match succeeds, or until all possibilities have failed.</p>
<p>Note that pattern assignment functions in the pattern may generate side effects, so these functions are not necessarily pure.</p>

<h1><a class="toc-backref" id="the-pattern-history-stack" href="#the-pattern-history-stack">The Pattern History Stack</a></h1><p>The pattern history stack is used for controlling backtracking when a match fails. The idea is to stack entries that give a cursor value to be restored, and a node to be reestablished as the current node to attempt an appropriate rematch operation. The processing for a pattern element that has rematch alternatives pushes an appropriate entry or entry on to the stack, and the proceeds. If a match fails at any point, the top element of the stack is popped off, resetting the cursor and the match continues by accessing the node stored with this entry.</p>
<p>Note: the pattern matching stack is used only to handle backtracking.  If no backtracking occurs, its entries are never accessed, and never popped off, and in particular it is normal for a successful match to terminate with entries on the stack that are simply discarded.</p>
<p>Note: in subsequent diagrams of the stack, we always place element zero (the deepest element) at the top of the page, then build the stack down on the page with the most recent (top of stack) element being the bottom-most entry on the page.</p>
<p>Stack checking is handled by labeling every pattern with the maximum number of stack entries that are required, so a single check at the start of matching the pattern suffices. There are two exceptions.</p>
<p>First, the count does not include entries for recursive pattern references. Such recursions must therefore perform a specific stack check with respect to the number of stack entries required by the recursive pattern that is accessed and the amount of stack that remains unused.</p>
<p>Second, the count includes only one iteration of an Arbno pattern, so a specific check must be made on subsequent iterations that there is still enough stack space left. The Arbno node has a field that records the number of stack entries required by its argument for this purpose.</p>

<h1><a class="toc-backref" id="use-of-serial-index-field-in-pattern-elements" href="#use-of-serial-index-field-in-pattern-elements">Use of Serial Index Field in Pattern Elements</a></h1><p>The serial index numbers for the pattern elements are assigned as a pattern is constructed from its constituent elements. Note that there is never any sharing of pattern elements between patterns (copies are always made), so the serial index numbers are unique to a particular pattern as referenced from the <tt class="docutils literal"><span class="pre">p</span></tt> field of a value of type Pattern.</p>
<p>The index numbers meet three separate invariants, which are used for various purposes as described in this section.</p>
<p>First, the numbers uniquely identify the pattern elements within a pattern. If num is the number of elements in a given pattern, then the serial index numbers for the elements of this pattern will range from <tt class="docutils literal"><span class="pre">1 .. num</span></tt>, so that each element has a separate value.</p>
<p>The purpose of this assignment is to provide a convenient auxiliary data structure mechanism during operations which must traverse a pattern (e.g. copy and finalization processing). Once constructed patterns are strictly read only. This is necessary to allow sharing of patterns between tasks. This means that we cannot go marking the pattern (e.g. with a visited bit). Instead we construct a separate vector that contains the necessary information indexed by the index values in the pattern elements. For this purpose the only requirement is that they be uniquely assigned.</p>
<p>Second, the pattern element referenced directly, i.e. the leading pattern element, is always the maximum numbered element and therefore indicates the total number of elements in the pattern. More precisely, the element referenced by the <tt class="docutils literal"><span class="pre">p</span></tt> field of a pattern value, or the element returned by any of the internal pattern construction routines in the body (that return a value of type ref PE) always is this maximum element,</p>
<p>The purpose of this requirement is to allow an immediate determination of the number of pattern elements within a pattern. This is used to properly size the vectors used to contain auxiliary information for traversal as described above.</p>
<p>Third, as compound pattern structures are constructed, the way in which constituent parts of the pattern are constructed is stylized. This is an automatic consequence of the way that these compound structures are constructed, and basically what we are doing is simply documenting and specifying the natural result of the pattern construction. The section describing compound pattern structures gives details of the numbering of each compound pattern structure.</p>
<p>The purpose of specifying the stylized numbering structures for the compound patterns is to help simplify the processing in the Image function, since it eases the task of retrieving the original recursive structure of the pattern from the flat graph structure of elements.  This use in the Image function is the only point at which the code makes use of the stylized structures.</p>

<h1><a class="toc-backref" id="recursive-pattern-matches" href="#recursive-pattern-matches">Recursive Pattern Matches</a></h1><p>The pattern primitive <tt class="docutils literal"><span class="pre">(+p)</span></tt> where <tt class="docutils literal"><span class="pre">p</span></tt> is a <tt class="docutils literal"><span class="pre">ptr Pattern</span></tt> or <tt class="docutils literal"><span class="pre">PatternFunc</span></tt> causes a recursive pattern match. This cannot be handled by an actual recursive call to the outer level match routine, since this would not allow for possible backtracking into the region matched by the inner pattern. Indeed this is the classical clash between recursion and backtracking, and a simple recursive stack structure does not suffice.</p>
<p>This section describes how this recursion and the possible associated backtracking is handled. We still use a single stack, but we establish the concept of nested regions on this stack, each of which has a stack base value pointing to the deepest stack entry of the region. The base value for the outer level is zero.</p>
<p>When a recursive match is established, two special stack entries are made. The first entry is used to save the original node that starts the recursive match. This is saved so that the successor field of this node is accessible at the end of the match, but it is never popped and executed.</p>
<p>The second entry corresponds to a standard new region action. A pcRRemove node is stacked, whose cursor field is used to store the outer stack base, and the stack base is reset to point to this pcRRemove node. Then the recursive pattern is matched and it can make history stack entries in the normal matter, so now the stack looks like:<pre>
(stack entries made by outer level)

(Special entry, node is (+p) successor
 cursor entry is not used)

(pcRRemove entry, &quot;cursor&quot; value is &lt;-- Stack base saved base value for
 the enclosing region)

(stack entries made by inner level)</pre>
</p>
<p>If a subsequent failure occurs and pops the pcRRemove node, it removes itself and the special entry immediately underneath it, restores the stack base value for the enclosing region, and then again signals failure to look for alternatives that were stacked before the recursion was initiated.</p>
<p>Now we need to consider what happens if the inner pattern succeeds, as signalled by accessing the special pcEOP pattern primitive. First we recognize the nested case by looking at the Base value. If this Base value is Stack.first, then the entire match has succeeded, but if the base value is greater than <tt class="docutils literal"><span class="pre">stack.first</span></tt>, then we have successfully matched an inner pattern, and processing continues at the outer level.</p>
<p>There are two cases. The simple case is when the inner pattern has made no stack entries, as recognized by the fact that the current stack pointer is equal to the current base value. In this case it is fine to remove all trace of the recursion by restoring the outer base value and using the special entry to find the appropriate successor node.</p>
<p>The more complex case arises when the inner match does make stack entries. In this case, the pcEOP processing stacks a special entry whose cursor value saves the saved inner base value (the one that references the corresponding pcRRemove value), and whose node pointer references a pcRRemore node, so the stack looks like:<pre>
(stack entries made by outer level)

(Special entry, node is (+p) successor,
 cursor entry is not used)

(pcRRemove entry, &quot;cursor&quot; value is saved base value for the enclosing
 region)

(stack entries made by inner level)

(pcRegionReplace entry, &quot;cursor&quot; value is stack pointer value referencing
 the pcRRemove entry).</pre>
</p>
<p>If the entire match succeeds, then these stack entries are, as usual, ignored and abandoned. If on the other hand a subsequent failure causes the pcRegionReplace entry to be popped, it restores the inner base value from its saved &quot;cursor&quot; value and then fails again.  Note that it is OK that the cursor is temporarily clobbered by this pop, since the second failure will reestablish a proper cursor value.</p>

<h1><a class="toc-backref" id="compound-pattern-structures" href="#compound-pattern-structures">Compound Pattern Structures</a></h1><p>This section discusses the compound structures used to represent constructed patterns. It shows the graph structures of pattern elements that are constructed, and in the case of patterns that provide backtracking possibilities, describes how the history stack is used to control the backtracking. Finally, it notes the way in which the index numbers are assigned to the structure.</p>
<p>In all diagrams, solid lines (built with minus signs or vertical bars, represent successor pointers (pThen fields) with &gt; or V used to indicate the direction of the pointer. The initial node of the structure is in the upper left of the diagram. <tt class="docutils literal"><span class="pre">a</span></tt> dotted line is an alternative pointer from the element above it to the element below it. See individual sections for details on how alternatives are used.</p>
<p>In the pattern structures listed in this section, a line that looks like <tt class="docutils literal"><span class="pre">----&gt;</span></tt> with nothing to the right indicates an end of pattern (<tt class="docutils literal"><span class="pre">EOP</span></tt>) pointer that represents the end of the match.</p>

<h1><a class="toc-backref" id="concatenation" href="#concatenation">Concatenation</a></h1><p>When a pattern concatenation <tt class="docutils literal"><span class="pre">(l &amp; r)</span></tt> occurs, the resulting structure is obtained by finding all such <tt class="docutils literal"><span class="pre">EOP</span></tt> pointers in <tt class="docutils literal"><span class="pre">l</span></tt>, and replacing them to point to <tt class="docutils literal"><span class="pre">r</span></tt>. This is the most important flattening that occurs in constructing a pattern, and it means that the pattern matching circuitry does not have to keep track of the structure of a pattern with respect to concatenation, since the appropriate successor is always at hand.</p>
<p>Concatenation itself generates no additional possibilities for backtracking, but the constituent patterns of the concatenated structure will make stack entries as usual. The maximum amount of stack required by the structure is thus simply the sum of the maximums required by <tt class="docutils literal"><span class="pre">l</span></tt> and <tt class="docutils literal"><span class="pre">r</span></tt>.</p>
<p>The index numbering of a concatenation structure works by leaving the numbering of the right hand pattern, <tt class="docutils literal"><span class="pre">r</span></tt>, unchanged and adjusting the numbers in the left hand pattern, <tt class="docutils literal"><span class="pre">l</span></tt> up by the count of elements in</p>
<p>r. This ensures that the maximum numbered element is the leading element as required (given that it was the leading element in <tt class="docutils literal"><span class="pre">l</span></tt>).</p>

<h1><a class="toc-backref" id="concat" href="#concat">Concat</a></h1><p>Creates a pattern element that represents a concatenation of the two given pattern elements (i.e. the pattern <tt class="docutils literal"><span class="pre">l</span></tt> followed by <tt class="docutils literal"><span class="pre">r</span></tt>).  The result returned is always the same as <tt class="docutils literal"><span class="pre">l</span></tt>, but the pattern referenced by <tt class="docutils literal"><span class="pre">l</span></tt> is modified to have <tt class="docutils literal"><span class="pre">r</span></tt> as a successor. This proc does not copy <tt class="docutils literal"><span class="pre">l</span></tt> or <tt class="docutils literal"><span class="pre">r</span></tt>, so if a copy is required, it is the responsibility of the caller. The <tt class="docutils literal"><span class="pre">Incr</span></tt> parameter is an amount to be added to the <tt class="docutils literal"><span class="pre">Nat</span></tt> field of any PArbnoY node that is in the left operand, it represents the additional stack space required by the right operand.</p>
<p>Concat needs to traverse the left operand performing the following set of fixups:</p>
<blockquote><p><ol class="simple"><li>Any successor pointers(<tt class="docutils literal"><span class="pre">pThen</span></tt> fields) that are set to <tt class="docutils literal"><span class="pre">EOP</span></tt> are reset to point to the second operand.</li>
<li>Any pcArbnoY node has its stack count field incremented by the parameter Incr provided for this purpose.</li>
<li><tt class="docutils literal"><span class="pre">num</span></tt> fields of all pattern elements in the left operand are adjusted to include the elements of the right operand.</li>
</ol>
</p></blockquote>
<p>Note: we do not use SetSuccessor in the processing for Concat, since there is no point in doing two traversals, we may as well do everything at the same time.</p>

<h1><a class="toc-backref" id="alternation" href="#alternation">Alternation</a></h1><p><tt class="docutils literal"><span class="pre">a</span></tt> pattern (l or r) constructs the structure:<pre>
+---+     +---+
| a |----&gt;| l |----&gt;
+---+     +---+
  .
  .
+---+
| r |----&gt;
+---+</pre>
</p>
<p>The <tt class="docutils literal"><span class="pre">a</span></tt> element here is a pcAlt node, and the dotted line represents the contents of the alt field. When the pcAlt element is matched, it stacks a pointer to the leading element of <tt class="docutils literal"><span class="pre">r</span></tt> on the history stack so that on subsequent failure, a match of <tt class="docutils literal"><span class="pre">r</span></tt> is attempted.</p>
<p>The <tt class="docutils literal"><span class="pre">a</span></tt> node is the highest numbered element in the pattern. The original index numbers of <tt class="docutils literal"><span class="pre">r</span></tt> are unchanged, but the index numbers of the <tt class="docutils literal"><span class="pre">l</span></tt> pattern are adjusted up by the count of elements in <tt class="docutils literal"><span class="pre">r</span></tt>.</p>
<p>Note that the difference between the index of the <tt class="docutils literal"><span class="pre">l</span></tt> leading element the index of the <tt class="docutils literal"><span class="pre">r</span></tt> leading element (after building the alt structure) indicates the number of nodes in <tt class="docutils literal"><span class="pre">l</span></tt>, and this is true even after the structure is incorporated into some larger structure.  For example, if the <tt class="docutils literal"><span class="pre">a</span></tt> node has index 16, and <tt class="docutils literal"><span class="pre">l</span></tt> has index 15 and <tt class="docutils literal"><span class="pre">r</span></tt> has index 5, then we know that <tt class="docutils literal"><span class="pre">l</span></tt> has 10 (15-5) elements in it.</p>
<p>Suppose that we now concatenate this structure to another pattern with 9 elements in it. We will now have the <tt class="docutils literal"><span class="pre">a</span></tt> node with an index of 25, <tt class="docutils literal"><span class="pre">l</span></tt> with an index of 24 and <tt class="docutils literal"><span class="pre">r</span></tt> with an index of 14. We still know that <tt class="docutils literal"><span class="pre">l</span></tt> has 10 (24-14) elements in it, numbered 15-24, and consequently the successor of the alternation structure has an index with a value less than 15. This is used in Image to figure out the original recursive structure of a pattern.</p>
<p>To clarify the interaction of the alternation and concatenation structures, here is a more complex example of the structure built for the pattern:</p>
<pre class = "listing"><span class="Punctuation">(</span><span class="Identifier">v</span> <span class="Keyword">or</span> <span class="Identifier">w</span> <span class="Keyword">or</span> <span class="Identifier">x</span><span class="Punctuation">)</span> <span class="Punctuation">(</span><span class="Identifier">y</span> <span class="Keyword">or</span> <span class="Identifier">z</span><span class="Punctuation">)</span></pre><p>where <tt class="docutils literal"><span class="pre">a,b,c,d,e</span></tt> are all single element patterns:<pre>
+---+     +---+       +---+     +---+
I a I----&gt;I v I---+--&gt;I a I----&gt;I y I----&gt;
+---+     +---+   I   +---+     +---+
  .               I     .
  .               I     .
+---+     +---+   I   +---+
I a I----&gt;I w I--&gt;I   I z I----&gt;
+---+     +---+   I   +---+
  .               I
  .               I
+---+             I
I x I------------&gt;+
+---+</pre>
</p>
<p>The numbering of the nodes would be as follows:<pre>
+---+     +---+       +---+     +---+
I 8 I----&gt;I 7 I---+--&gt;I 3 I----&gt;I 2 I----&gt;
+---+     +---+   I   +---+     +---+
  .               I     .
  .               I     .
+---+     +---+   I   +---+
I 6 I----&gt;I 5 I--&gt;I   I 1 I----&gt;
+---+     +---+   I   +---+
  .               I
  .               I
+---+             I
I 4 I------------&gt;+
+---+</pre>
</p>
<p>Note: The above structure actually corresponds to</p>
<pre class = "listing"><span class="Punctuation">(</span><span class="Identifier">a</span> <span class="Keyword">or</span> <span class="Punctuation">(</span><span class="Identifier">b</span> <span class="Keyword">or</span> <span class="Identifier">c</span><span class="Punctuation">)</span><span class="Punctuation">)</span> <span class="Punctuation">(</span><span class="Identifier">d</span> <span class="Keyword">or</span> <span class="Identifier">e</span><span class="Punctuation">)</span></pre><p>rather than</p>
<pre class = "listing"><span class="Punctuation">(</span><span class="Punctuation">(</span><span class="Identifier">a</span> <span class="Keyword">or</span> <span class="Identifier">b</span><span class="Punctuation">)</span> <span class="Keyword">or</span> <span class="Identifier">c</span><span class="Punctuation">)</span> <span class="Punctuation">(</span><span class="Identifier">d</span> <span class="Keyword">or</span> <span class="Identifier">e</span><span class="Punctuation">)</span></pre><p>which is the more natural interpretation, but in fact alternation is associative, and the construction of an alternative changes the left grouped pattern to the right grouped pattern in any case, so that the Image function produces a more natural looking output.</p>
<p>Arb --- An Arb pattern builds the structure:<pre>
+---+
| x |----&gt;
+---+
  .
  .
+---+
| y |----&gt;
+---+</pre>
</p>
<p>The x node is a pcArbX node, which matches nil, and stacks a pointer to y node, which is the pcArbY node that matches one extra character and restacks itself.</p>
<p>The pcArbX node is numbered 2, and the pcArbY node is 1</p>

<h1><a class="toc-backref" id="arbno-simple-case" href="#arbno-simple-case">Arbno (simple case)</a></h1><p>The simple form of Arbno can be used where the pattern always matches at least one character if it succeeds, and it is known not to make any history stack entries. In this case, Arbno(p) can construct the following structure:<pre>
|    +-------------+
|    |             ^
|    V             |
|  +---+           |
|  | s |----&gt;      |
|  +---+           |
|    .             |
|    .             |
|  +---+           |
|  | p |----------&gt;+
|  +---+</pre>
</p>
<p>The S (pcArbnoS) node matches <tt class="docutils literal"><span class="pre">nil</span></tt> stacking a pointer to the pattern <tt class="docutils literal"><span class="pre">p</span></tt>. If a subsequent failure causes <tt class="docutils literal"><span class="pre">p</span></tt> to be matched and this match succeeds, then node <tt class="docutils literal"><span class="pre">A</span></tt> gets restacked to try another instance if needed by a subsequent failure.</p>
<p>Note that we know that <tt class="docutils literal"><span class="pre">p</span></tt> cannot be <tt class="docutils literal"><span class="pre">EOP</span></tt>, because a <tt class="docutils literal"><span class="pre">nil</span></tt> pattern does not meet the requirements for simple Arbno.</p>

<h1><a class="toc-backref" id="arbno-complex-case" href="#arbno-complex-case">Arbno (complex case)</a></h1><p>A call to Arbno (p), where <tt class="docutils literal"><span class="pre">p</span></tt> can match <tt class="docutils literal"><span class="pre">nil</span></tt> (or at least is not known to require a non-nil string) and/or <tt class="docutils literal"><span class="pre">p</span></tt> requires pattern stack entries, constructs the following structure:<pre>
|    +--------------------------+
|    |                          ^
|    V                          |
|  +---+                        |
|  | x |----&gt;                   |
|  +---+                        |
|    .                          |
|    .                          |
|  +---+     +---+     +---+    |
|  | e |----&gt;| p |----&gt;| y |---&gt;+
|  +---+     +---+     +---+</pre>
</p>
<p>The node <tt class="docutils literal"><span class="pre">x</span></tt> (pcArbnoX) matches <tt class="docutils literal"><span class="pre">nil</span></tt>, stacking a pointer to the <tt class="docutils literal"><span class="pre">e-p-x</span></tt> structure used to match one Arbno instance.</p>
<p>Here <tt class="docutils literal"><span class="pre">e</span></tt> is the pcREnter node which matches <tt class="docutils literal"><span class="pre">nil</span></tt> and creates two stack entries. The first is a special entry whose node field is not used at all, and whose cursor field has the initial cursor.</p>
<p>The second entry corresponds to a standard new region action. A pcRRemove node is stacked, whose cursor field is used to store the outer stack base, and the stack base is reset to point to this pcRRemove node. Then the pattern <tt class="docutils literal"><span class="pre">p</span></tt> is matched, and it can make history stack entries in the normal manner, so now the stack looks like:<pre>
(stack entries made before assign pattern)

(Special entry, node field not used,
 used only to save initial cursor)

(pcRRemove entry, &quot;cursor&quot; value is &lt;-- Stack Base saved base value for
 the enclosing region)

(stack entries made by matching p)</pre>
</p>
<p>If the match of <tt class="docutils literal"><span class="pre">p</span></tt> fails, then the pcRRemove entry is popped and it removes both itself and the special entry underneath it, restores the outer stack base, and signals failure.</p>
<p>If the match of <tt class="docutils literal"><span class="pre">p</span></tt> succeeds, then node <tt class="docutils literal"><span class="pre">y</span></tt>, the pcArbnoY node, pops the inner region. There are two possibilities. If matching <tt class="docutils literal"><span class="pre">p</span></tt> left no stack entries, then all traces of the inner region can be removed. If there are stack entries, then we push an pcRegionReplace stack entry whose &quot;cursor&quot; value is the inner stack base value, and then restore the outer stack base value, so the stack looks like:<pre>
(stack entries made before assign pattern)

(Special entry, node field not used,
 used only to save initial cursor)

(pcRRemove entry, &quot;cursor&quot; value is saved base value for the enclosing
 region)

(stack entries made by matching p)

(pcRegionReplace entry, &quot;cursor&quot; value is stack pointer value referencing
 the pcRRemove entry).</pre>
</p>
<p>Now that we have matched another instance of the Arbno pattern, we need to move to the successor. There are two cases. If the Arbno pattern matched nil, then there is no point in seeking alternatives, since we would just match a whole bunch of nils. In this case we look through the alternative node, and move directly to its successor (i.e. the successor of the Arbno pattern). If on the other hand a non-nil string was matched, we simply follow the successor to the alternative node, which sets up for another possible match of the Arbno pattern.</p>
<p>As noted in the section on stack checking, the stack count (and hence the stack check) for a pattern includes only one iteration of the Arbno pattern. To make sure that multiple iterations do not overflow the stack, the Arbno node saves the stack count required by a single iteration, and the Concat function increments this to include stack entries required by any successor. The pcArbnoY node uses this count to ensure that sufficient stack remains before proceeding after matching each new instance.</p>
<p>The node numbering of the constituent pattern <tt class="docutils literal"><span class="pre">p</span></tt> is not affected.  Where <tt class="docutils literal"><span class="pre">n</span></tt> is the number of nodes in <tt class="docutils literal"><span class="pre">p</span></tt>, the <tt class="docutils literal"><span class="pre">y</span></tt> node is numbered <tt class="docutils literal"><span class="pre">n + 1</span></tt>, the <tt class="docutils literal"><span class="pre">e</span></tt> node is <tt class="docutils literal"><span class="pre">n + 2</span></tt>, and the <tt class="docutils literal"><span class="pre">x</span></tt> node is <tt class="docutils literal"><span class="pre">n + 3</span></tt>.</p>

<h1><a class="toc-backref" id="assign-immediate" href="#assign-immediate">Assign Immediate</a></h1><p>Immediate assignment <tt class="docutils literal"><span class="pre">(p * V)</span></tt> constructs the following structure:<pre>
+---+     +---+     +---+
| e |----&gt;| p |----&gt;| a |----&gt;
+---+     +---+     +---+</pre>
</p>
<p>Here <tt class="docutils literal"><span class="pre">e</span></tt> is the pcREnter node which matches <tt class="docutils literal"><span class="pre">nil</span></tt> and creates two stack entries. The first is a special entry whose node field is not used at all, and whose cursor field has the initial cursor.</p>
<p>The second entry corresponds to a standard new region action. A pcRRemove node is stacked, whose cursor field is used to store the outer stack base, and the stack base is reset to point to this pcRRemove node. Then the pattern <tt class="docutils literal"><span class="pre">p</span></tt> is matched, and it can make history stack entries in the normal manner, so now the stack looks like:<pre>
(stack entries made before assign pattern)

(Special entry, node field not used,
 used only to save initial cursor)

(pcRRemove entry, &quot;cursor&quot; value is &lt;-- Stack Base saved base value for
 the enclosing region)

(stack entries made by matching p)</pre>
</p>
<p>If the match of <tt class="docutils literal"><span class="pre">p</span></tt> fails, then the pcRRemove entry is popped and it removes both itself and the special entry underneath it, restores the outer stack base, and signals failure.</p>
<p>If the match of <tt class="docutils literal"><span class="pre">p</span></tt> succeeds, then node <tt class="docutils literal"><span class="pre">a</span></tt>, which is the actual pcAssignImmP node, executes the assignment (using the stack base to locate the entry with the saved starting cursor value), and the pops the inner region. There are two possibilities, if matching <tt class="docutils literal"><span class="pre">p</span></tt> left no stack entries, then all traces of the inner region can be removed. If there are stack entries, then we push an pcRegionReplace stack entry whose &quot;cursor&quot; value is the inner stack base value, and then restore the outer stack base value, so the stack looks like:<pre>
(stack entries made before assign pattern)

(Special entry, node field not used,
 used only to save initial cursor)

(pcRRemove entry, &quot;cursor&quot; value is saved base value for the enclosing
 region)

(stack entries made by matching p)

(pcRegionReplace entry, &quot;cursor&quot; value is the stack pointer value
 referencing the pcRRemove entry).</pre>
</p>
<p>If a subsequent failure occurs, the pcRegionReplace node restores the inner stack base value and signals failure to explore rematches of the pattern <tt class="docutils literal"><span class="pre">p</span></tt>.</p>
<p>The node numbering of the constituent pattern <tt class="docutils literal"><span class="pre">p</span></tt> is not affected.  Where <tt class="docutils literal"><span class="pre">n</span></tt> is the number of nodes in p, the <tt class="docutils literal"><span class="pre">a</span></tt> node is numbered <tt class="docutils literal"><span class="pre">n + 1</span></tt>, and the e node is <tt class="docutils literal"><span class="pre">n + 2</span></tt>.</p>

<h1><a class="toc-backref" id="assign-on-match" href="#assign-on-match">Assign On Match</a></h1><p>The assign on match (**) pattern is quite similar to the assign immediate pattern, except that the actual assignment has to be delayed. The following structure is constructed:<pre>
+---+     +---+     +---+
| e |----&gt;| p |----&gt;| a |----&gt;
+---+     +---+     +---+</pre>
</p>
<p>The operation of this pattern is identical to that described above for deferred assignment, up to the point where <tt class="docutils literal"><span class="pre">p</span></tt> has been matched.</p>
<p>The <tt class="docutils literal"><span class="pre">a</span></tt> node, which is the pcAssignOnMP node first pushes a pcAssign node onto the history stack. This node saves the ending cursor and acts as a flag for the final assignment, as further described below.</p>
<p>It then stores a pointer to itself in the special entry node field. This was otherwise unused, and is now used to retrieve the address of the variable to be assigned at the end of the pattern.</p>
<p>After that the inner region is terminated in the usual manner, by stacking a pcRRemore entry as described for the assign immediate case. Note that the optimization of completely removing the inner region does not happen in this case, since we have at least one stack entry (the pcAssign one we just made). The stack now looks like:<pre>
(stack entries made before assign pattern)

(Special entry, node points to copy of
 the pcAssignOnMP node, and the
 cursor field saves the initial cursor).

(pcRRemove entry, &quot;cursor&quot; value is saved base value for the enclosing
 region)

(stack entries made by matching p)

(pcAssign entry, saves final cursor)

(pcRegionReplace entry, &quot;cursor&quot; value is stack pointer value referencing
 the pcRRemove entry).</pre>
</p>
<p>If a subsequent failure causes the pcAssign node to execute it simply removes itself and propagates the failure.</p>
<p>If the match succeeds, then the history stack is scanned for pcAssign nodes, and the assignments are executed (examination of the above diagram will show that all the necessary data is at hand for the assignment).</p>
<p>To optimize the common case where no assign-on-match operations are present, a global flag AssignOnM is maintained which is initialize to False, and gets set true as part of the execution of the pcAssignOnMP node. The scan of the history stack for pcAssign entries is done only if this flag is set.</p>
<p>The node numbering of the constituent pattern <tt class="docutils literal"><span class="pre">p</span></tt> is not affected.  Where <tt class="docutils literal"><span class="pre">n</span></tt> is the number of nodes in p, the <tt class="docutils literal"><span class="pre">a</span></tt> node is numbered <tt class="docutils literal"><span class="pre">n + 1</span></tt>, and the e node is <tt class="docutils literal"><span class="pre">n + 2</span></tt>.</p>
<p>Bal ---</p>
<p>Bal builds a single node:<pre>
+---+
| b |----&gt;
+---+</pre>
</p>
<p>The node <tt class="docutils literal"><span class="pre">b</span></tt> is the pcBal node which matches a parentheses balanced string, starting at the current cursor position. It then updates the cursor past this matched string, and stacks a pointer to itself with this updated cursor value on the history stack, to extend the matched string on a subsequent failure.</p>
<p>Since this is a single node it is numbered 1 (the reason we include it in the compound patterns section is that it backtracks).</p>

<h1><a class="toc-backref" id="breakx" href="#breakx">BreakX</a></h1><p>BreakX builds the structure:<pre>
+---+     +---+
| b |----&gt;| a |----&gt;
+---+     +---+
  ^         .
  |         .
  |       +---+
  +&lt;------| x |
          +---+</pre>
</p>
<p>Here the <tt class="docutils literal"><span class="pre">b</span></tt> node is the BreakXxx node that performs a normal Break function. The <tt class="docutils literal"><span class="pre">a</span></tt> node is an alternative (pcAlt) node that matches nil, but stacks a pointer to node x (the pcBreakXX node) which extends the match one character (to eat up the previously detected break character), and then rematches the break.</p>
<p>The <tt class="docutils literal"><span class="pre">b</span></tt> node is numbered 3, the alternative node is 1, and the <tt class="docutils literal"><span class="pre">x</span></tt> node is 2.</p>

<h1><a class="toc-backref" id="fence" href="#fence">Fence</a></h1><p>Fence builds a single node:<pre>
+---+
| f |----&gt;
+---+</pre>
</p>
<p>The element <tt class="docutils literal"><span class="pre">f</span></tt>, pcFence, matches <tt class="docutils literal"><span class="pre">nil</span></tt>, and stacks a pointer to a pcAbort element which will abort the match on a subsequent failure.</p>
<p>Since this is a single element it is numbered 1 (the reason we include it in the compound patterns section is that it backtracks).</p>

<h1><a class="toc-backref" id="fence-function" href="#fence-function">Fence Function</a></h1><p>A call to the Fence function builds the structure:<pre>
+---+     +---+     +---+
| e |----&gt;| p |----&gt;| x |----&gt;
+---+     +---+     +---+</pre>
</p>
<p>Here <tt class="docutils literal"><span class="pre">e</span></tt> is the pcREnter node which matches <tt class="docutils literal"><span class="pre">nil</span></tt> and creates two stack entries. The first is a special entry which is not used at all in the fence case (it is present merely for uniformity with other cases of region enter operations).</p>
<p>The second entry corresponds to a standard new region action. A pcRRemove node is stacked, whose cursor field is used to store the outer stack base, and the stack base is reset to point to this pcRRemove node. Then the pattern <tt class="docutils literal"><span class="pre">p</span></tt> is matched, and it can make history stack entries in the normal manner, so now the stack looks like:<pre>
(stack entries made before fence pattern)

(Special entry, not used at all)

(pcRRemove entry, &quot;cursor&quot; value is &lt;-- Stack Base saved base value for
 the enclosing region)

(stack entries made by matching p)</pre>
</p>
<p>If the match of <tt class="docutils literal"><span class="pre">p</span></tt> fails, then the pcRRemove entry is popped and it removes both itself and the special entry underneath it, restores the outer stack base, and signals failure.</p>
<p>If the match of <tt class="docutils literal"><span class="pre">p</span></tt> succeeds, then node <tt class="docutils literal"><span class="pre">x</span></tt>, the pcFenceX node, gets control. One might be tempted to think that at this point, the history stack entries made by matching <tt class="docutils literal"><span class="pre">p</span></tt> can just be removed since they certainly are not going to be used for rematching (that is whole point of Fence after all). However, this is wrong, because it would result in the loss of possible assign-on-match entries for deferred pattern assignments.</p>
<p>Instead what we do is to make a special entry whose node references pcFenceY, and whose cursor saves the inner stack base value, i.e. the pointer to the pcRRemove entry. Then the outer stack base pointer is restored, so the stack looks like:<pre>
(stack entries made before assign pattern)

(Special entry, not used at all)

(pcRRemove entry, &quot;cursor&quot; value is saved base value for the enclosing
 region)

(stack entries made by matching p)

(pcFenceY entry, &quot;cursor&quot; value is stack pointer value referencing the
 pcRRemove entry).</pre>
</p>
<p>If a subsequent failure occurs, then the pcFenceY entry removes the entire inner region, including all entries made by matching p, and alternatives prior to the Fence pattern are sought.</p>
<p>The node numbering of the constituent pattern <tt class="docutils literal"><span class="pre">p</span></tt> is not affected. Where <tt class="docutils literal"><span class="pre">n</span></tt> is the number of nodes in p, the x node is numbered <tt class="docutils literal"><span class="pre">n + 1</span></tt>, and the e node is <tt class="docutils literal"><span class="pre">n + 2</span></tt>.</p>

<h1><a class="toc-backref" id="succeed" href="#succeed">Succeed</a></h1><p>Succeed builds a single node:<pre>
+---+
| s |----&gt;
+---+</pre>
</p>
<p>The node S is the pcSucceed node which matches nil, and stacks a pointer to itself on the history stack, so that a subsequent failure repeats the same match.</p>
<p>Since this is a single node it is numbered 1 (the reason we include it in the compound patterns section is that it backtracks).</p>

<h1><a class="toc-backref" id="write-immediate" href="#write-immediate">Write Immediate</a></h1><p>The structure built for a write immediate operation (<tt class="docutils literal"><span class="pre">p * F</span></tt>, where <tt class="docutils literal"><span class="pre">F</span></tt> is a file access value) is:<pre>
+---+     +---+     +---+
| e |----&gt;| p |----&gt;| w |----&gt;
+---+     +---+     +---+</pre>
</p>
<p>Here <tt class="docutils literal"><span class="pre">e</span></tt> is the pcREnter node and <tt class="docutils literal"><span class="pre">w</span></tt> is the pcWriteImmP node. The handling is identical to that described above for Assign Immediate, except that at the point where a successful match occurs, the matched substring is written to the referenced file.</p>
<p>The node numbering of the constituent pattern <tt class="docutils literal"><span class="pre">p</span></tt> is not affected.  Where <tt class="docutils literal"><span class="pre">n</span></tt> is the number of nodes in p, the <tt class="docutils literal"><span class="pre">w</span></tt> node is numbered <tt class="docutils literal"><span class="pre">n + 1</span></tt>, and the <tt class="docutils literal"><span class="pre">e</span></tt> node is <tt class="docutils literal"><span class="pre">n + 2</span></tt>.</p>

<h1><a class="toc-backref" id="write-on-match" href="#write-on-match">Write On Match</a></h1><p>The structure built for a write on match operation (<tt class="docutils literal"><span class="pre">p ** F</span></tt>, where <tt class="docutils literal"><span class="pre">F</span></tt> is a file access value) is:<pre>
+---+     +---+     +---+
| e |----&gt;| p |----&gt;| w |----&gt;
+---+     +---+     +---+</pre>
</p>
<p>Here <tt class="docutils literal"><span class="pre">e</span></tt> is the pcREnter node and <tt class="docutils literal"><span class="pre">W</span></tt> is the pcWriteOnMP node. The handling is identical to that described above for Assign On Match, except that at the point where a successful match has completed, the matched substring is written to the referenced file.</p>
<p>The node numbering of the constituent pattern <tt class="docutils literal"><span class="pre">p</span></tt> is not affected.  Where <tt class="docutils literal"><span class="pre">n</span></tt> is the number of nodes in p, the <tt class="docutils literal"><span class="pre">w</span></tt> node is numbered <tt class="docutils literal"><span class="pre">n + 1</span></tt>, and the <tt class="docutils literal"><span class="pre">e</span></tt> node is <tt class="docutils literal"><span class="pre">n + 2</span></tt>.</p>
</p>
  <div class="section" id="6">
<h1><a class="toc-backref" href="#6">Imports</a></h1>
<dl class="item">
<a class="reference external" href="odarrays.html">odarrays</a>, <a class="reference external" href="strutils.html">strutils</a>
</dl></div>
<div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<dt id="Character"><a name="Character"></a><pre><span class="Identifier">Character</span> <span class="Other">=</span> <span class="Identifier">char</span></pre></dt>
<dd>
Element type
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L682"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="String"><a name="String"></a><pre><span class="Identifier">String</span> <span class="Other">=</span> <span class="Identifier">string</span></pre></dt>
<dd>
Container of Element type
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L683"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="PString"><a name="PString"></a><pre><span class="Identifier">PString</span> <span class="Other">=</span> <span class="Identifier">String</span></pre></dt>
<dd>

This subtype is used in the remainder of the package to indicate a formal parameter that is converted to its corresponding pattern, i.e. a pattern that matches the characters of the string.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L688"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="PChar"><a name="PChar"></a><pre><span class="Identifier">PChar</span> <span class="Other">=</span> <span class="Identifier">Character</span></pre></dt>
<dd>

Similarly, this subtype is used in the remainder of the package to indicate a formal parameter that is converted to its corresponding pattern, i.e. a pattern that matches this one character.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L693"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="BoolFunc"><a name="BoolFunc"></a><pre><span class="Identifier">BoolFunc</span> <span class="Other">=</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
<dd>
General bool function type. When this type is used as a formal parameter type in this package, it indicates a deferred predicate pattern. The function will be called when the pattern element is matched and failure signalled if false is returned.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L698"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="NaturalFunc"><a name="NaturalFunc"></a><pre><span class="Identifier">NaturalFunc</span> <span class="Other">=</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Natural</span></pre></dt>
<dd>
General Natural function type. When this type is used as a formal parameter type in this package, it indicates a deferred pattern.  The function will be called when the pattern element is matched to obtain the currently referenced Natural value.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L704"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="StringFunc"><a name="StringFunc"></a><pre><span class="Identifier">StringFunc</span> <span class="Other">=</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">String</span></pre></dt>
<dd>
General string function type. When this type is used as a formal parameter type in this package, it indicates a deferred pattern.  The function will be called when the pattern element is matched to obtain the currently referenced string value.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L710"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Pattern"><a name="Pattern"></a><pre><span class="Identifier">Pattern</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">stk</span><span class="Other">:</span> <span class="Identifier">Natural</span> <span class="Comment">## \</span>
             <span class="Comment">## Maximum number of stack entries required</span>
             <span class="Comment">## for matching this pattern. See description of pattern history stack</span>
             <span class="Comment">## in body.</span>
  <span class="Identifier">p</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">PE</span>                     <span class="Comment">## Pointer to initial pattern element for pattern</span>
  </pre></dt>
<dd>
Type representing a pattern. This package provides a complete set of operations for constructing patterns that can be used in the pattern matching operations provided.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L865"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="MatchResult"><a name="MatchResult"></a><pre><span class="Identifier">MatchResult</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">res</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">String</span>               <span class="Comment">## \</span>
               <span class="Comment">## Pointer to subject string. Set to ``nil`` if match failed</span>
  <span class="Identifier">start</span><span class="Other">:</span> <span class="Identifier">Natural</span>               <span class="Comment">## \</span>
               <span class="Comment">## Starting index position of matched section of \</span>
               <span class="Comment">## subject string. Only valid if ``res`` is ``non-nil``.</span>
  <span class="Identifier">stop</span><span class="Other">:</span> <span class="Identifier">Natural</span> <span class="Comment">## \</span>
              <span class="Comment">## Ending index position (1's origin) of matched section of \</span>
              <span class="Comment">## subject string. Only valid if ``res`` is ``non-nil``.</span>
  </pre></dt>
<dd>
Type used to record result of pattern match
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L948"
class="link-seesrc" target="_blank">Source</a>
</dd>

</dl></div>
<div class="section" id="8">
<h1><a class="toc-backref" href="#8">Vars</a></h1>
<dl class="item">
<dt id="anchoredMode"><a name="anchoredMode"></a><pre><span class="Identifier">anchoredMode</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="DecNumber">false</span></pre></dt>
<dd>

This global variable can be set true to cause all subsequent pattern matches to operate in anchored mode. In anchored mode, no attempt is made to move the anchor point, so that if the match succeeds it must succeed starting at the first character. Note that the effect of anchored mode may be achieved in individual pattern matches by using Fence or Pos(0) at the start of the pattern.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L937"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="debugNimbol"><a name="debugNimbol"></a><pre><span class="Identifier">debugNimbol</span> <span class="Other">=</span> <span class="DecNumber">false</span></pre></dt>
<dd>

This global variable can be set <tt class="docutils literal"><span class="pre">true</span></tt> to generate debugging on all subsequent calls to match. The debugging output is a full trace of the actions of the pattern matcher, written to <tt class="docutils literal"><span class="pre">stdout</span></tt>. The level of this information is intended to be comprehensible at the abstract level of this package declaration. However, note that the use of this switch often generates large amounts of output.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L3710"
class="link-seesrc" target="_blank">Source</a>
</dd>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<dt id="pattern"><a name="pattern,Pattern"></a><pre><span class="Keyword">proc</span> <span class="Identifier">pattern</span><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2117"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="pattern"><a name="pattern,PString"></a><pre><span class="Keyword">proc</span> <span class="Identifier">pattern</span><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2120"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="pattern"><a name="pattern,PChar"></a><pre><span class="Keyword">proc</span> <span class="Identifier">pattern</span><span class="Other">(</span><span class="Identifier">c</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2123"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="&"><a name="&,Pattern,Pattern"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`&amp;`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Pattern concatenation, matches <tt class="docutils literal"><span class="pre">l</span></tt> followed by <tt class="docutils literal"><span class="pre">r</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2327"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="&"><a name="&,Pattern,PString"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`&amp;`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2331"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="&"><a name="&,PString,Pattern"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`&amp;`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2334"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="&"><a name="&,Pattern,PChar"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`&amp;`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2337"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="&"><a name="&,PChar,Pattern"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`&amp;`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2340"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="&="><a name="&=,Pattern,Pattern"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`&amp;=`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">)</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Pattern concatenation accumulation, matches <tt class="docutils literal"><span class="pre">l</span></tt> followed by <tt class="docutils literal"><span class="pre">r</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2343"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="&="><a name="&=,Pattern,PString"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`&amp;=`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2348"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="&="><a name="&=,Pattern,PChar"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`&amp;=`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2351"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="*"><a name="*,Pattern,ref.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`*`</span><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">val</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
<p>Matches <tt class="docutils literal"><span class="pre">p</span></tt>, and if the match succeeds, assigns the matched substring to the given string variable <tt class="docutils literal"><span class="pre">val</span></tt>. This assignment happens as soon as the substring is matched, and if the pattern <tt class="docutils literal"><span class="pre">p1</span></tt> is matched more than once during the course of the match, then the assignment will occur more than once.</p>
<p>Assign immediate:<pre>
+---+     +---+     +---+
| e |----&gt;| p |----&gt;| a |----&gt;
+---+     +---+     +---+</pre>
</p>
<p>The node numbering of the constituent pattern <tt class="docutils literal"><span class="pre">p</span></tt> is not affected.  Where <tt class="docutils literal"><span class="pre">n</span></tt> is the number of nodes in <tt class="docutils literal"><span class="pre">p</span></tt>, the <tt class="docutils literal"><span class="pre">a</span></tt> node is numbered <tt class="docutils literal"><span class="pre">n + 1</span></tt>, and the e node is <tt class="docutils literal"><span class="pre">n + 2</span></tt>.</p>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2358"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="*"><a name="*,PString,ref.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`*`</span><span class="Other">(</span><span class="Identifier">ps</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">;</span> <span class="Identifier">val</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2379"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="*"><a name="*,PChar,ref.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`*`</span><span class="Other">(</span><span class="Identifier">pc</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">;</span> <span class="Identifier">val</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2385"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="*"><a name="*,Pattern,String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`*`</span><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">val</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2391"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="*"><a name="*,PString,String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`*`</span><span class="Other">(</span><span class="Identifier">ps</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">;</span> <span class="Identifier">val</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2397"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="*"><a name="*,PChar,String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`*`</span><span class="Other">(</span><span class="Identifier">pc</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">;</span> <span class="Identifier">val</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2403"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="*"><a name="*,Pattern,ref.File"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`*`</span><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">file</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">File</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
<p>These are similar to the corresponding pattern assignment operations except that instead of setting the value of a variable, the matched substring is written to the appropriate file. This can be useful in following the progress of a match without generating the full amount of information obtained by setting debugMode to true.</p>
<p>Write immediate:<pre>
+---+     +---+     +---+
| e |----&gt;| p |----&gt;| w |----&gt;
+---+     +---+     +---+</pre>
</p>
<p>The node numbering of the constituent pattern <tt class="docutils literal"><span class="pre">p</span></tt> is not affected.  Where <tt class="docutils literal"><span class="pre">n</span></tt> is the number of nodes in <tt class="docutils literal"><span class="pre">p</span></tt>, the <tt class="docutils literal"><span class="pre">w</span></tt> node is numbered <tt class="docutils literal"><span class="pre">n + 1</span></tt>, and the <tt class="docutils literal"><span class="pre">e</span></tt> node is <tt class="docutils literal"><span class="pre">n + 2</span></tt>.</p>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2409"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="*"><a name="*,PString,ref.File"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`*`</span><span class="Other">(</span><span class="Identifier">ps</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">;</span> <span class="Identifier">file</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">File</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2430"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="*"><a name="*,PChar,ref.File"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`*`</span><span class="Other">(</span><span class="Identifier">pc</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">;</span> <span class="Identifier">file</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">File</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2436"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="*"><a name="*,Pattern,File"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`*`</span><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">file</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">File</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2442"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="*"><a name="*,PString,File"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`*`</span><span class="Other">(</span><span class="Identifier">ps</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">;</span> <span class="Identifier">file</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">File</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2448"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="*"><a name="*,PChar,File"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`*`</span><span class="Other">(</span><span class="Identifier">pc</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">;</span> <span class="Identifier">file</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">File</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2454"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="**"><a name="**,Pattern,ref.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`**`</span><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">val</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
<p>Like &quot;*&quot; above, except that the assignment happens at most once after the entire match is completed successfully. If the match fails, then no assignment takes place.</p>
<p>Assign on match:<pre>
+---+     +---+     +---+
| e |----&gt;| p |----&gt;| a |----&gt;
+---+     +---+     +---+</pre>
</p>
<p>The node numbering of the constituent pattern <tt class="docutils literal"><span class="pre">p</span></tt> is not affected.  Where <tt class="docutils literal"><span class="pre">n</span></tt> is the number of nodes in <tt class="docutils literal"><span class="pre">p</span></tt>, the <tt class="docutils literal"><span class="pre">a</span></tt> node is numbered <tt class="docutils literal"><span class="pre">n + 1</span></tt>, and the <tt class="docutils literal"><span class="pre">e</span></tt> node is <tt class="docutils literal"><span class="pre">n + 2</span></tt>.</p>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2464"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="**"><a name="**,PString,ref.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`**`</span><span class="Other">(</span><span class="Identifier">ps</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">;</span> <span class="Identifier">val</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2483"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="**"><a name="**,PChar,ref.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`**`</span><span class="Other">(</span><span class="Identifier">pc</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">;</span> <span class="Identifier">val</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2489"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="**"><a name="**,Pattern,String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`**`</span><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">val</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2495"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="**"><a name="**,PString,String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`**`</span><span class="Other">(</span><span class="Identifier">ps</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">;</span> <span class="Identifier">val</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2501"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="**"><a name="**,PChar,String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`**`</span><span class="Other">(</span><span class="Identifier">pc</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">;</span> <span class="Identifier">val</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2507"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="**"><a name="**,Pattern,ref.File"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`**`</span><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">file</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">File</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
<p>Write on match:<pre>
+---+     +---+     +---+
| e |----&gt;| p |----&gt;| w |----&gt;
+---+     +---+     +---+</pre>
</p>
<p>The node numbering of the constituent pattern <tt class="docutils literal"><span class="pre">p</span></tt> is not affected.  Where <tt class="docutils literal"><span class="pre">n</span></tt> is the number of nodes in <tt class="docutils literal"><span class="pre">p</span></tt>, the <tt class="docutils literal"><span class="pre">w</span></tt> node is numbered <tt class="docutils literal"><span class="pre">n + 1</span></tt>, and the <tt class="docutils literal"><span class="pre">e</span></tt> node is <tt class="docutils literal"><span class="pre">n + 2</span></tt>.</p>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2514"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="**"><a name="**,PString,ref.File"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`**`</span><span class="Other">(</span><span class="Identifier">ps</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">;</span> <span class="Identifier">file</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">File</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2529"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="**"><a name="**,PChar,ref.File"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`**`</span><span class="Other">(</span><span class="Identifier">pc</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">;</span> <span class="Identifier">file</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">File</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2535"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="**"><a name="**,Pattern,File"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`**`</span><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">file</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">File</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2541"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="**"><a name="**,PString,File"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`**`</span><span class="Other">(</span><span class="Identifier">ps</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">;</span> <span class="Identifier">file</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">File</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2547"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="**"><a name="**,PChar,File"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`**`</span><span class="Other">(</span><span class="Identifier">pc</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">;</span> <span class="Identifier">file</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">File</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2553"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="+"><a name="+,ref.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`+`</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Here <tt class="docutils literal"><span class="pre">Str</span></tt> must be a string variable. This function constructs a pattern which at pattern matching time will access the current value of this variable, and match against these characters.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2563"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="+"><a name="+,String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`+`</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Here <tt class="docutils literal"><span class="pre">Str</span></tt> must be a string variable. This function constructs a pattern which at pattern matching time will access the current value of this variable, and match against these characters.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2569"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="+"><a name="+,StringFunc"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`+`</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">StringFunc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern which at pattern matching time calls the given function, and then matches against the string or character value that is returned by the call.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2575"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="+"><a name="+,ref.Pattern"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`+`</span><span class="Other">(</span><span class="Identifier">P</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">Pattern</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Here <tt class="docutils literal"><span class="pre">P</span></tt> must be a Pattern variable. This function constructs a pattern which at pattern matching time will access the current value of this variable, and match against the pattern value.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2581"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="+"><a name="+,Pattern"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`+`</span><span class="Other">(</span><span class="Identifier">P</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">Pattern</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Here <tt class="docutils literal"><span class="pre">P</span></tt> must be a Pattern variable. This function constructs a pattern which at pattern matching time will access the current value of this variable, and match against the pattern value.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2587"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="+"><a name="+,BoolFunc"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`+`</span><span class="Other">(</span><span class="Identifier">P</span><span class="Other">:</span> <span class="Identifier">BoolFunc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a predicate pattern function that at pattern matching time calls the given function. If true is returned, then the pattern matches.  If false is returned, then failure is signalled.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2593"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="or"><a name="or,Pattern,Pattern"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`or`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Creates a pattern that will first try to match <tt class="docutils literal"><span class="pre">l</span></tt> and then on a subsequent failure, attempts to match <tt class="docutils literal"><span class="pre">r</span></tt> instead.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2603"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="or"><a name="or,PString,Pattern"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`or`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2608"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="or"><a name="or,Pattern,PString"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`or`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2611"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="or"><a name="or,PString,PString"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`or`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2614"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="or"><a name="or,PChar,Pattern"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`or`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2617"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="or"><a name="or,Pattern,PChar"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`or`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2620"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="or"><a name="or,PChar,PChar"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`or`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2623"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="or"><a name="or,PString,PChar"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`or`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2626"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="or"><a name="or,PChar,PString"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`or`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2629"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="or="><a name="or=,Pattern,Pattern"></a><pre><span class="Keyword">proc</span> <span class="Identifier">or=</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Creates a pattern that will first try to match <tt class="docutils literal"><span class="pre">l</span></tt> and then on a subsequent failure, attempts to match <tt class="docutils literal"><span class="pre">r</span></tt> instead.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2633"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="or"><a name="or,Pattern,PString_2"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`or`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2639"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="or"><a name="or,Pattern,PChar_2"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`or`</span><span class="Other">(</span><span class="Identifier">l</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">r</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2642"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Any"><a name="Any,String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Any</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that matches a single character that is one of the characters in the given argument. The pattern fails if the current character is not in <tt class="docutils literal"><span class="pre">str</span></tt>.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2649"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Any"><a name="Any,Character"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Any</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">Character</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2655"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Any"><a name="Any,CharacterSet"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Any</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">CharacterSet</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2658"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Any"><a name="Any,ref.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Any</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2661"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Any"><a name="Any,ptr.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Any</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2664"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Any"><a name="Any,StringFunc"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Any</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">StringFunc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2667"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Arb"><a name="Arb,"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Arb</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that will match any string. On the first attempt, the pattern matches a <tt class="docutils literal"><span class="pre">nil</span></tt> string, then on each successive failure, it matches one more character, and only fails if matching the entire rest of the string.<pre>+---+
| x |----&gt;
+---+
  .
  .
+---+
| y |----&gt;
+---+</pre>
<p>The pcArbX element is numbered 2, and the pcArbY element is 1</p>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2674"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Arbno"><a name="Arbno,PString"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Arbno</span><span class="Other">(</span><span class="Identifier">ps</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Pattern repetition. First matches <tt class="docutils literal"><span class="pre">nil</span></tt>, then on a subsequent failure attempts to match an additional instance of the given pattern.  Equivalent to (but more efficient than) <tt class="docutils literal"><span class="pre">P &amp; (&quot;&quot;</span></tt> or <tt class="docutils literal"><span class="pre">(P &amp; (&quot;&quot;</span></tt> or ...
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2698"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Arbno"><a name="Arbno,PChar"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Arbno</span><span class="Other">(</span><span class="Identifier">pc</span><span class="Other">:</span> <span class="Identifier">PChar</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2707"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Arbno"><a name="Arbno,Pattern"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Arbno</span><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
This is the complex case, either the pattern makes stack entries or it is possible for the pattern to match the <tt class="docutils literal"><span class="pre">nil</span></tt> string (more accurately, we don't know that this is not the case).<pre>|    +--------------------------+
|    |                          ^
|    V                          |
|  +---+                        |
|  | x |----&gt;                   |
|  +---+                        |
|    .                          |
|    .                          |
|  +---+     +---+     +---+    |
|  | e |----&gt;| p |----&gt;| y |---&gt;+
|  +---+     +---+     +---+</pre>
<p>The node numbering of the constituent pattern <tt class="docutils literal"><span class="pre">p</span></tt> is not affected. Where <tt class="docutils literal"><span class="pre">n</span></tt> is the number of nodes in p, the y node is numbered <tt class="docutils literal"><span class="pre">n + 1</span></tt>, the <tt class="docutils literal"><span class="pre">e</span></tt> node is <tt class="docutils literal"><span class="pre">n + 2</span></tt>, and the <tt class="docutils literal"><span class="pre">x</span></tt> node is <tt class="docutils literal"><span class="pre">n + 3</span></tt>.</p>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2710"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Bal"><a name="Bal,Character,Character"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Bal</span><span class="Other">(</span><span class="Identifier">open</span><span class="Other">,</span> <span class="Identifier">close</span><span class="Other">:</span> <span class="Identifier">Character</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that will match any non-empty string that is balanced with respect to the <tt class="docutils literal"><span class="pre">open</span></tt> and <tt class="docutils literal"><span class="pre">close</span></tt> characters provided.  Attempts to extend the string if a subsequent failure occurs.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2745"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Bal"><a name="Bal,"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Bal</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that will match any non-empty string that is parentheses balanced with respect to the normal parentheses characters. Attempts to extend the string if a subsequent failure occurs.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2751"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Break"><a name="Break,String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Break</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that matches a (possibly <tt class="docutils literal"><span class="pre">nil</span></tt>) string which is immediately followed by a character in the given argument. This character is not part of the matched string. The pattern fails if the remaining characters to be matched do not include any of the characters in Str.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2761"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Break"><a name="Break,Character"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Break</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">Character</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2769"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Break"><a name="Break,CharacterSet"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Break</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">CharacterSet</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2772"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Break"><a name="Break,ref.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Break</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2775"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Break"><a name="Break,ptr.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Break</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2778"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Break"><a name="Break,StringFunc"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Break</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">StringFunc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2781"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="BreakX"><a name="BreakX,String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">BreakX</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Like Break, but the pattern attempts to extend on a failure to find the next occurrence of a character in <tt class="docutils literal"><span class="pre">Str</span></tt>, and only fails when the last such instance causes a failure.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2788"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="BreakX"><a name="BreakX,Character"></a><pre><span class="Keyword">proc</span> <span class="Identifier">BreakX</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">Character</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2794"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="BreakX"><a name="BreakX,CharacterSet"></a><pre><span class="Keyword">proc</span> <span class="Identifier">BreakX</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">CharacterSet</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2797"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="BreakX"><a name="BreakX,ref.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">BreakX</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2800"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="BreakX"><a name="BreakX,ptr.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">BreakX</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2803"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="BreakX"><a name="BreakX,StringFunc"></a><pre><span class="Keyword">proc</span> <span class="Identifier">BreakX</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">StringFunc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2806"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Abort"><a name="Abort,"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Abort</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that immediately aborts the entire match
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2813"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Fail"><a name="Fail,"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Fail</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that always fails
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2821"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Fence"><a name="Fence,"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Fence</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that matches <tt class="docutils literal"><span class="pre">nil</span></tt> on the first attempt, and then causes the entire match to be aborted if a subsequent failure occurs.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2829"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Fence"><a name="Fence,Pattern"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Fence</span><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that first matches <tt class="docutils literal"><span class="pre">p</span></tt>. If <tt class="docutils literal"><span class="pre">p</span></tt> fails, then the constructed pattern fails. If <tt class="docutils literal"><span class="pre">p</span></tt> succeeds, then the match proceeds, but if subsequent failure occurs, alternatives in <tt class="docutils literal"><span class="pre">p</span></tt> are not sought.  The idea of Fence is that each time the pattern is matched, just one attempt is made to match <tt class="docutils literal"><span class="pre">p</span></tt>, without trying alternatives.<pre>+---+     +---+     +---+
| e |----&gt;| p |----&gt;| x |----&gt;
+---+     +---+     +---+</pre>
<p>The node numbering of the constituent pattern <tt class="docutils literal"><span class="pre">p</span></tt> is not affected.  Where <tt class="docutils literal"><span class="pre">n</span></tt> is the number of nodes in <tt class="docutils literal"><span class="pre">p</span></tt>, the <tt class="docutils literal"><span class="pre">x</span></tt> node is numbered <tt class="docutils literal"><span class="pre">n + 1</span></tt>, and the <tt class="docutils literal"><span class="pre">e</span></tt> node is <tt class="docutils literal"><span class="pre">n + 2</span></tt>.</p>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2834"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Len"><a name="Len,Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Len</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
<p>Constructs a pattern that matches exactly the given number of characters. The pattern fails if fewer than this number of characters remain to be matched in the string.</p>
<p>Note, the following is not just an optimization, it is needed to ensure that Arbno(Len(0)) does not generate an infinite matching loop(since pcLenNat is okForSimpleArbno).</p>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2857"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Len"><a name="Len,NaturalFunc"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Len</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Identifier">NaturalFunc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2870"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Len"><a name="Len,ref.Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Len</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2873"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Len"><a name="Len,ptr.Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Len</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2876"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="NotAny"><a name="NotAny,String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">NotAny</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that matches a single character that is not one of the characters in the given argument. The pattern Fails if the current character is in <tt class="docutils literal"><span class="pre">Str</span></tt>.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2883"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="NotAny"><a name="NotAny,Character"></a><pre><span class="Keyword">proc</span> <span class="Identifier">NotAny</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">Character</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2889"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="NotAny"><a name="NotAny,CharacterSet"></a><pre><span class="Keyword">proc</span> <span class="Identifier">NotAny</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">CharacterSet</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2892"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="NotAny"><a name="NotAny,ref.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">NotAny</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2895"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="NotAny"><a name="NotAny,ptr.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">NotAny</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2898"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="NotAny"><a name="NotAny,StringFunc"></a><pre><span class="Keyword">proc</span> <span class="Identifier">NotAny</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">StringFunc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2901"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="NSpan"><a name="NSpan,String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">NSpan</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that matches the longest possible string consisting entirely of characters from the given argument. The string may be empty, so this pattern always succeeds.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2907"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="NSpan"><a name="NSpan,Character"></a><pre><span class="Keyword">proc</span> <span class="Identifier">NSpan</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">Character</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2913"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="NSpan"><a name="NSpan,CharacterSet"></a><pre><span class="Keyword">proc</span> <span class="Identifier">NSpan</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">CharacterSet</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2916"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="NSpan"><a name="NSpan,ref.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">NSpan</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2919"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="NSpan"><a name="NSpan,ptr.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">NSpan</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2922"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="NSpan"><a name="NSpan,StringFunc"></a><pre><span class="Keyword">proc</span> <span class="Identifier">NSpan</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">StringFunc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2925"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Pos"><a name="Pos,Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Pos</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that matches the <tt class="docutils literal"><span class="pre">nil</span></tt> string if exactly <tt class="docutils literal"><span class="pre">Count</span></tt> characters have already been matched, and otherwise fails.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2932"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Pos"><a name="Pos,NaturalFunc"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Pos</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Identifier">NaturalFunc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2937"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Pos"><a name="Pos,ref.Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Pos</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2940"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Pos"><a name="Pos,ptr.Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Pos</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2943"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Rem"><a name="Rem,"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Rem</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that always succeeds, matching the remaining unmatched characters in the pattern.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2950"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Rpos"><a name="Rpos,Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Rpos</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that matches the <tt class="docutils literal"><span class="pre">nil</span></tt> string if exactly <tt class="docutils literal"><span class="pre">Count</span></tt> characters remain to be matched in the string, and otherwise fails.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2959"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Rpos"><a name="Rpos,NaturalFunc"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Rpos</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Identifier">NaturalFunc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2964"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Rpos"><a name="Rpos,ref.Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Rpos</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2967"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Rpos"><a name="Rpos,ptr.Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Rpos</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2970"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Rtab"><a name="Rtab,Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Rtab</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that matches from the current location until exactly Count characters remain to be matched in the string. The pattern fails if fewer than Count characters remain to be matched.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2977"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Rtab"><a name="Rtab,NaturalFunc"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Rtab</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Identifier">NaturalFunc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2983"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Rtab"><a name="Rtab,ref.Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Rtab</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2986"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Rtab"><a name="Rtab,ptr.Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Rtab</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2989"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Setcur"><a name="Setcur,ref.Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Setcur</span><span class="Other">(</span><span class="Identifier">val</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that matches the <tt class="docutils literal"><span class="pre">nil</span></tt> string, and assigns the current cursor position in the string. This value is the number of characters matched so far. So it is zero at the start of the match.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L2996"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Setcur"><a name="Setcur,Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Setcur</span><span class="Other">(</span><span class="Identifier">val</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that matches the <tt class="docutils literal"><span class="pre">nil</span></tt> string, and assigns the current cursor position in the string. This value is the number of characters matched so far. So it is zero at the start of the match.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L3002"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Span"><a name="Span,String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Span</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that matches the longest possible string consisting entirely of characters from the given argument. The string cannot be empty , so the pattern fails if the current character is not one of the characters in <tt class="docutils literal"><span class="pre">Str</span></tt>.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L3012"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Span"><a name="Span,Character"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Span</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">Character</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L3019"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Span"><a name="Span,CharacterSet"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Span</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">CharacterSet</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L3022"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Span"><a name="Span,ref.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Span</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L3025"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Span"><a name="Span,ptr.String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Span</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L3028"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Span"><a name="Span,StringFunc"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Span</span><span class="Other">(</span><span class="Identifier">str</span><span class="Other">:</span> <span class="Identifier">StringFunc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L3031"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Succeed"><a name="Succeed,"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Succeed</span><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that succeeds matching nil, both on the first attempt, and on any rematch attempt, i.e. it is equivalent to an infinite alternation of <tt class="docutils literal"><span class="pre">nil</span></tt> strings.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L3038"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Tab"><a name="Tab,Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Tab</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Constructs a pattern that from the current location until <tt class="docutils literal"><span class="pre">Count</span></tt> characters have been matched. The pattern fails if more than <tt class="docutils literal"><span class="pre">Count</span></tt> characters have already been matched.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L3048"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Tab"><a name="Tab,NaturalFunc"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Tab</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Identifier">NaturalFunc</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L3054"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Tab"><a name="Tab,ref.Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Tab</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L3057"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="Tab"><a name="Tab,ptr.Natural"></a><pre><span class="Keyword">proc</span> <span class="Identifier">Tab</span><span class="Other">(</span><span class="Identifier">Count</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Pattern</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L3060"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="$"><a name="$,Pattern"></a><pre><span class="Keyword">proc</span> <span class="Identifier">`$`</span><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
This functions yield strings that corresponds to the syntax needed to create the given pattern using the functions in this package. The form of this string is such that it could actually be compiled and evaluated to yield the required pattern except for references to variables and functions, which are output using one of the following forms:<blockquote><p><p>access Natural     NP(16#...#) access Pattern     patPtr(16#...#) access String     SP(16#...#)</p>
<p>NaturalFunc        NF(16#...#) StringFunc        SF(16#...#)</p>
</p></blockquote>
<p>where 16#...# is the hex representation of the integer address that corresponds to the given access value</p>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L3480"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="dump"><a name="dump,Pattern"></a><pre><span class="Keyword">proc</span> <span class="Identifier">dump</span><span class="Other">(</span><span class="Identifier">pat</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">)</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span>
                       <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
This function writes information about the pattern to <tt class="docutils literal"><span class="pre">stdout</span></tt>. The format of this information is keyed to the internal data structures used to implement patterns. The information provided by dump is thus more precise than that yielded by Image, but is also a bit more obscure (i.e. it cannot be interpreted solely in terms of this spec, you have to know something about the data structures).
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L3502"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="match"><a name="match,String,Pattern"></a><pre><span class="Keyword">proc</span> <span class="Identifier">match</span><span class="Other">(</span><span class="Identifier">subject</span><span class="Other">:</span> <span class="Identifier">String</span><span class="Other">;</span> <span class="Identifier">pat</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">{.</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
The subject is matched against the pattern.  Any immediate or deferred assignments or writes are executed, and the returned value indicates whether or not the match succeeded.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L4978"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="match"><a name="match,String,PString"></a><pre><span class="Keyword">proc</span> <span class="Identifier">match</span><span class="Other">(</span><span class="Identifier">subject</span><span class="Other">:</span> <span class="Identifier">String</span><span class="Other">;</span> <span class="Identifier">pat</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L4988"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="match"><a name="match,String,Pattern,String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">match</span><span class="Other">(</span><span class="Identifier">subject</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">String</span><span class="Other">;</span> <span class="Identifier">pat</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">replace</span><span class="Other">:</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">{.</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
The <tt class="docutils literal"><span class="pre">subject</span></tt> is matched against the pattern.  Any immediate or deferred assignments or writes are executed, and the returned value indicates whether or not the match succeeded.  If the match succeeds, then the matched part of the <tt class="docutils literal"><span class="pre">subject</span></tt> string is replaced by the given <tt class="docutils literal"><span class="pre">replace</span></tt> string.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L5006"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="match"><a name="match,String,PString,String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">match</span><span class="Other">(</span><span class="Identifier">subject</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">String</span><span class="Other">;</span> <span class="Identifier">pat</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">;</span> <span class="Identifier">replace</span><span class="Other">:</span> <span class="Identifier">String</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">{.</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L5020"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="match"><a name="match,String,PString,String_2"></a><pre><span class="Keyword">proc</span> <span class="Identifier">match</span><span class="Other">(</span><span class="Identifier">subject</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">String</span><span class="Other">;</span> <span class="Identifier">pat</span><span class="Other">:</span> <span class="Identifier">PString</span><span class="Other">;</span> <span class="Identifier">replace</span><span class="Other">:</span> <span class="Identifier">String</span><span class="Other">)</span> <span class="Other">{.</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L5029"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="match"><a name="match,String,Pattern,MatchResult"></a><pre><span class="Keyword">proc</span> <span class="Identifier">match</span><span class="Other">(</span><span class="Identifier">subject</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">String</span><span class="Other">;</span> <span class="Identifier">pat</span><span class="Other">:</span> <span class="Identifier">Pattern</span><span class="Other">;</span> <span class="Identifier">res</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">MatchResult</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> <span class="Other">{.</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>

&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L5042"
class="link-seesrc" target="_blank">Source</a>
</dd>
<dt id="replace"><a name="replace,MatchResult,String"></a><pre><span class="Keyword">proc</span> <span class="Identifier">replace</span><span class="Other">(</span><span class="Identifier">result</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">MatchResult</span><span class="Other">;</span> <span class="Identifier">replace</span><span class="Other">:</span> <span class="Identifier">String</span><span class="Other">)</span> <span class="Other">{.</span><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>
Given a previous call to match which set result, performs a pattern replacement if the match was successful. Has no effect if the match failed. This call should immediately follow the match call.
&nbsp;&nbsp;<a
href="https://github.com/Henry/Nimbol/blob/master/nimbol.nim#L5058"
class="link-seesrc" target="_blank">Source</a>
</dd>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br>
        <small>Made with Nim. Generated: 2015-09-13 13:53:09 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
